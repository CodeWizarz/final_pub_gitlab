<!DOCTYPE html>
<html lang=en>
<head>
<meta charset=UTF-8 />
<meta content='width=device-width, initial-scale=1.0' name=viewport />
<meta content='default-src &#39;self&#39; https: http:; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39; https: http:; style-src &#39;self&#39; &#39;unsafe-inline&#39; https: http:; object-src https: http:; base-uri &#39;self&#39;; connect-src &#39;self&#39; https: http: wss: ws:; frame-src &#39;self&#39; https: http:; img-src &#39;self&#39; https: http: data:; manifest-src &#39;self&#39;; media-src &#39;self&#39; https: http:; worker-src &#39;self&#39; https: http:;' http-equiv=Content-Security-Policy />
<meta content='index, follow' name=robots />
<title>
Category Strategy - Geo-replication
|
GitLab
</title>
<meta content='Using Geo replications reduces the time it needs to fetch and clone repositories, which increases developer productivity. Learn more here!' name=description />
<meta content='Using Geo replications reduces the time it needs to fetch and clone repositories, which increases developer productivity. Learn more here!' name='twitter:description'/>
<meta content='Using Geo replications reduces the time it needs to fetch and clone repositories, which increases developer productivity. Learn more here!' property='og:description'/>
<meta content=GitLab property='og:site_name'/>
<meta content='Category Strategy - Geo-replication' property='og:title'/>
<meta content='https://gitlab.com/gitlab-com/www-gitlab-com/' property='og:repo'/>
<meta content='https://gitlab.com/' property='og:instance'/>
<meta content='gitlab-com/www-gitlab-com/' property='og:path'/>
<meta content='direction/geo/geo_replication/index.html.md.erb' property='og:relative_path'/>
<meta content='' property='og:monorepo_site_path_fragment'/>
<meta content=article property='og:type'/>
<meta content='https://about.gitlab.com/direction/geo/geo_replication/' property='og:url'/>
<meta content="https://about.gitlab.com/images/opengraph/gitlab-blog-cover.png" property="og:image">
<meta content="https://about.gitlab.com/images/opengraph/gitlab-blog-cover.png" name="twitter:image">
<meta content=summary_large_image name='twitter:card'/>
<meta content='@GitLab' name='twitter:site'/>
<meta content='Category Strategy - Geo-replication' name='twitter:title'/>
<meta content='@GitLab' name='twitter:creator'/>
<link href='/atom.xml' rel=alternate title=Blog type='application/atom+xml'/>
<link href='/all-releases.xml' rel=alternate title='All Releases' type='application/atom+xml'/>
<link href='/security-releases.xml' rel=alternate title='Security Releases' type='application/atom+xml'/>
<link href='/releases.xml' rel=alternate title='Major Releases' type='application/atom+xml'/>
<link href='/ico/favicon.ico?cache=2022041' rel='shortcut icon'/>
<link href='/ico/favicon-192x192.png?cache=2022041' rel=icon sizes=192x192 type='image/png'/>
<link href='/ico/favicon-160x160.png?cache=2022041' rel=icon sizes=160x160 type='image/png'/>
<link href='/ico/favicon-96x96.png?cache=2022041' rel=icon sizes=96x96 type='image/png'/>
<link href='/ico/favicon-16x16.png?cache=2022041' rel=icon sizes=16x16 type='image/png'/>
<link href='/ico/favicon-32x32.png?cache=2022041' rel=icon sizes=32x32 type='image/png'/>
<link href='/ico/apple-touch-icon-57x57.png?cache=2022041' rel=apple-touch-icon sizes=57x57 />
<link href='/ico/apple-touch-icon-114x114.png?cache=2022041' rel=apple-touch-icon sizes=114x114 />
<link href='/ico/apple-touch-icon-72x72.png?cache=2022041' rel=apple-touch-icon sizes=72x72 />
<link href='/ico/apple-touch-icon-144x144.png?cache=2022041' rel=apple-touch-icon sizes=144x144 />
<link href='/ico/apple-touch-icon-60x60.png?cache=2022041' rel=apple-touch-icon sizes=60x60 />
<link href='/ico/apple-touch-icon-120x120.png?cache=2022041' rel=apple-touch-icon sizes=120x120 />
<link href='/ico/apple-touch-icon-76x76.png?cache=2022041' rel=apple-touch-icon sizes=76x76 />
<link href='/ico/apple-touch-icon-152x152.png?cache=2022041' rel=apple-touch-icon sizes=152x152 />
<link href='/ico/apple-touch-icon-180x180.png?cache=2022041' rel=apple-touch-icon sizes=180x180 />
<meta content='#554488' name=msapplication-TileColor />
<meta content='/ico/mstile-144x144.png?cache=2022041' name=msapplication-TileImage />
<meta content='/ico/browserconfig.xml' name=msapplication-config />
<script src='https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js'></script>
<script charset=UTF-8 data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08 src='https://cdn.cookielaw.org/scripttemplates/otSDKStub.js'></script>
<script>
  //<![CDATA[
    function OptanonWrapper() { }
  //]]>
</script>
<script async=false defer=false id=mermaidscriptsource src='/javascripts/libs/mermaid.min.js?cacheBust=4cf1fb774d1'></script>
<script>
  //<![CDATA[
    window.dataLayer = window.dataLayer || []
    function gtag(){dataLayer.push(arguments);}
    gtag('consent', 'default', {
      'analytics_storage': 'denied',
      'ad_storage': 'denied',
      'functionality_storage': 'denied',
      'region': [ 'AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'IS', 'LI', 'NO', 'GB', 'PE', 'RU'],
      'wait_for_update': 500
    });
    gtag('consent', 'default', {
      'analytics_storage': 'granted',
      'ad_storage': 'granted',
      'functionality_storage': 'granted',
      'wait_for_update': 500
    });
    
    window.geofeed = (options) => {
      dataLayer.push({
        'event' : 'OneTrustCountryLoad',
        'oneTrustCountryId': options.country.toString()
      })
    }
    
    const json = document.createElement('script');
    json.setAttribute('src', 'https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed');
    document.head.appendChild(json);
  //]]>
</script>
<script>document.documentElement.className = 'html--js'</script>
<script async='' src='//cdn.bizible.com/scripts/bizible.js'></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-37019925-1', 'auto', {allowLinker: true});
ga('require', 'GTM-WC3ZR2P');
</script>
<script>
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJXWQL');
</script>
<script>
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','Z4n7msKyctXXfJs66EKx','2.0.0');
</script>
<link href='https://about.gitlab.com/direction/geo/geo_replication/' rel=canonical />
<link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,500,600,700' rel=stylesheet />
<link crossorigin=anonymous href='https://use.fontawesome.com/releases/v5.1.0/css/all.css' integrity='sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt' rel=stylesheet />
<link href='https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.8.7/tiny-slider.css' rel=stylesheet />
<link href="/stylesheets/styles.css" rel=stylesheet /><link href="/stylesheets/highlight.css" rel=stylesheet />

<link href="/stylesheets/slippers.css?cacheBust=4cf1fb774d1" rel=stylesheet />
<link href="/stylesheets/be-navigation.css?cacheBust=4cf1fb774d1" rel=stylesheet />
<link href="/stylesheets/handbook.css" rel=stylesheet />
<link href="/stylesheets/navigation-helpers.css" rel=stylesheet />
</head>
<body data-spy=scroll data-target='.qnav'>
<noscript>
<iframe height=0 src='//www.googletagmanager.com/ns.html?id=GTM-NJXWQL' style='display:none;visibility:hidden' width=0></iframe>
</noscript>
<template id=be-nav>
<div id=be-nav-target>
<slp-navigation></slp-navigation>
</div>
</template>
<nav class='slp-sticky slp-left-0 slp-right-0 slp-top-0 slp-bg-white slp-z-90' id=global-nav style='z-index: 1000000;'>
<be-navigation></be-navigation>
</nav>
<div class='search-box js-search-box'>
<i class='fa fa-search search-box-icon'></i>
<input class='search-input js-search st-header' placeholder='Search...'/>
<button aria-label='Close search' class='search-close js-search-toggle' type=button>
<i class='fa fa-times'></i>
</button>
</div>
<script src='/javascripts/be-navigation.js?cacheBust=4cf1fb774d1'></script>
<div class=blank-header>
<img src="/images/home/icons-pattern-left.svg" class="image-border image-border-left" alt="Gitlab hero border pattern left svg"/>
<img src="/images/home/icons-pattern-right.svg" class="image-border image-border-right" alt="Gitlab hero border pattern right svg"/>
<div class=header-content>
<h1>
Category Strategy - Geo-replication
</h1>
</div>
</div>
<div class='wrapper sidebar-layout-wrapper clearfix'>
<aside class=tocs-sidebar>
<div class=codeowners>
<div>
<h4 class=codeowners-header>
Maintained by<span class='hidden-md hidden-lg'>:</span></h4>
</div>
<div class=codeowners-list>
<a class=codeowner href='https://gitlab.com/joshlambert'>
<img
src='/images/team/joshua.png'
class=codeowner-avatar-img
alt='Joshua Lambert'
title='Joshua Lambert'
>
</a>
<a class=codeowner href='https://gitlab.com/sranasinghe'>
<img
src='/images/team/sampathranasinghe.jpg'
class=codeowner-avatar-img
alt='Sampath Ranasinghe'
title='Sampath Ranasinghe'
>
</a>
</div>
</div>
<h5>
Contribute to this page
</h5>
<div>
<a href="https://gitlab.com/-/ide/project/gitlab-com/www-gitlab-com/edit/master/-/source/direction/geo/geo_replication/index.html.md.erb" class=external-source-link>Edit this page</a>
<div class='d-flex align-items-center mt-2'></div>
</div>
</aside>
<div class='container md-page'>
<ol class=breadcrumb>
<li>You are here:</li>
<li><a href="/direction/">GitLab Direction</a></li><li><a href="/direction/geo/">Product Direction - Geo</a></li><li>Category Strategy - Geo-replication</li>
</ol>
<div class=legal-disclaimer>
<p id=legal-disclaimer>
The following page may contain information related to upcoming products, features and functionality. It is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes. Just like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features or functionality remain at the sole discretion of GitLab Inc.
</p>
</div>
<ul id=markdown-toc>
<li><a href="#-geo-replication" id=markdown-toc--geo-replication>🌏 Geo-replication</a> <ul>
<li><a href="#overview" id=markdown-toc-overview>Overview</a> <ul>
<li><a href="#how-you-can-help" id=markdown-toc-how-you-can-help>How you can help</a></li>
<li><a href="#useful-resources" id=markdown-toc-useful-resources>Useful resources</a></li>
</ul>
</li>
<li><a href="#vision" id=markdown-toc-vision>Vision</a></li>
<li><a href="#target-audience-and-experience" id=markdown-toc-target-audience-and-experience>Target audience and experience</a> <ul>
<li><a href="#sidney-systems-administrator" id=markdown-toc-sidney-systems-administrator>Sidney (Systems Administrator)</a></li>
<li><a href="#sasha-software-developer" id=markdown-toc-sasha-software-developer>Sasha (Software Developer)</a></li>
</ul>
</li>
<li><a href="#in-a-year" id=markdown-toc-in-a-year>In a year</a> <ul>
<li><a href="#improve-observability" id=markdown-toc-improve-observability>Improve observability</a></li>
<li><a href="#accelerate-more-data-types" id=markdown-toc-accelerate-more-data-types>Accelerate more data types</a></li>
<li><a href="#ability-to-disable-geo-replication-by-data-type-in-the-ui" id=markdown-toc-ability-to-disable-geo-replication-by-data-type-in-the-ui>Ability to disable Geo-replication by data type in the UI</a></li>
<li><a href="#simplify-managing-a-multi-node-geo-site-from-a-single-point-of-entry" id=markdown-toc-simplify-managing-a-multi-node-geo-site-from-a-single-point-of-entry>Simplify managing a multi-node Geo site from a single point of entry</a></li>
<li><a href="#easier-and-simpler-setup" id=markdown-toc-easier-and-simpler-setup>Easier and simpler setup</a></li>
<li><a href="#geo-supports-an-advanced-caching-mode" id=markdown-toc-geo-supports-an-advanced-caching-mode>Geo supports an advanced caching mode</a></li>
</ul>
</li>
<li><a href="#whats-next--why" id=markdown-toc-whats-next--why>What's next &amp; why</a> <ul>
<li><a href="#support-decomposed-databases" id=markdown-toc-support-decomposed-databases>Support decomposed databases</a></li>
<li><a href="#publish-a-geo-metrics-dashboard" id=markdown-toc-publish-a-geo-metrics-dashboard>Publish a Geo metrics dashboard</a></li>
<li><a href="#accelerate-container-registry" id=markdown-toc-accelerate-container-registry>Accelerate container registry</a></li>
</ul>
</li>
<li><a href="#what-is-not-planned-right-now" id=markdown-toc-what-is-not-planned-right-now>What is not planned right now</a> <ul>
<li><a href="#writable-geo-sites" id=markdown-toc-writable-geo-sites>Writable Geo sites</a></li>
<li><a href="#tightly-coupled-or-synchronous-geo-sites" id=markdown-toc-tightly-coupled-or-synchronous-geo-sites>Tightly coupled or synchronous Geo sites</a></li>
</ul>
</li>
<li><a href="#maturity-plan" id=markdown-toc-maturity-plan>Maturity plan</a></li>
<li><a href="#metrics" id=markdown-toc-metrics>Metrics</a></li>
<li><a href="#competitive-landscape" id=markdown-toc-competitive-landscape>Competitive landscape</a> <ul>
<li><a href="#feature-overview" id=markdown-toc-feature-overview>Feature overview</a></li>
</ul>
</li>
<li><a href="#top-customer-successsales-issues" id=markdown-toc-top-customer-successsales-issues>Top customer success/sales issue(s)</a></li>
<li><a href="#top-user-issues" id=markdown-toc-top-user-issues>Top user issues</a></li>
<li><a href="#top-internal-customer-issuesepics" id=markdown-toc-top-internal-customer-issuesepics>Top internal customer issues/epics</a></li>
<li><a href="#top-strategy-items" id=markdown-toc-top-strategy-items>Top strategy item(s)</a></li>
</ul>
</li>
</ul>
<h2 id=-geo-replication>🌏 Geo-replication</h2>
<table>
<thead>
<tr>
<th>Section</th>
<th>Group</th>
<th>Maturity</th>
<th>Last updated</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://about.gitlab.com/direction/enablement/">Enablement</a></td>
<td><a href="https://about.gitlab.com/direction/geo/">Geo</a></td>
<td><a href="/direction/maturity/">Viable</a></td>
<td>2024-07-02</td>
</tr>
</tbody>
</table>
<p>Thanks for visiting this category strategy page for GitLab Geo Replication. This page belongs to the <a href="https://about.gitlab.com/handbook/product/categories/#geo-group">Geo group</a>.</p>
<h3 id=overview>Overview</h3>
<p>Geo-replication improves the GitLab experience for geographically distributed teams.</p>
<p>Pulling a large Git repository can take a long time for locations geographically remote from the main GitLab instance.</p>
<p>Geo-replication provides an easily configurable, replica Geo site, which can be deployed in additional regions and seamlessly accelerates the GitLab experience for nearby users. This is achieved by replicating the entire GitLab data set to the replica site in a coordinated, verifiable and coherent manner. User requests are directed to the Geo site that is closest in proximity to the user using <a href="https://docs.gitlab.com/ee/administration/geo/secondary_proxy/index.html#configure-location-aware-dns">location aware URL</a>. Intelligent proxying techniques transparently guarantee users have access to the most recent data.</p>
<p>Geo <a href="https://docs.gitlab.com/ee/administration/geo/replication/datatypes.html">replicates and verifies all core GitLab data types</a>.</p>
<p>Geo-replication is also the foundational technology underpinning GitLab's <a href="/direction/geo/disaster_recovery/">Disaster Recovery solution</a></p>
<p><img src="/direction/geo/geo_replication/images/geo_proxying.png" alt="Geo proxying flow diagram"/></p>
<h4 id=how-you-can-help>How you can help</h4>
<p>Please reach out to Sampath Ranasinghe, Product Manager for the Geo group (<a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#114;&#097;&#110;&#097;&#115;&#105;&#110;&#103;&#104;&#101;&#064;&#103;&#105;&#116;&#108;&#097;&#098;&#046;&#099;&#111;&#109;">Email</a>) if you'd like to provide feedback or ask any questions related to this product category.</p>
<p>This strategy is a work in progress, and everyone can contribute. Please comment and contribute to the linked
<a href="https://gitlab.com/groups/gitlab-org/-/issues?scope=all&amp;utf8=%E2%9C%93&amp;state=opened&amp;label_name[]=group%3A%3Ageo">issues</a> and <a href="https://gitlab.com/groups/gitlab-org/-/epics?scope=all&amp;utf8=%E2%9C%93&amp;state=opened&amp;label_name[]=group%3A%3Ageo">epics</a> on this page. Sharing your feedback directly on GitLab.com is the best way to contribute to our strategy and vision.</p>
<h4 id=useful-resources>Useful resources</h4>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/roadmap?scope=all&amp;utf8=%E2%9C%93&amp;state=opened&amp;label_name[]=group%3A%3Ageo&amp;label_name[]=geo%3A%3Aactive">Roadmap for Geo Replication</a></li>
<li><a href="/direction/maturity/">Maturity: Viable</a></li>
<li><a href="https://docs.gitlab.com/ee/administration/geo/index.html">Documentation</a></li>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/1508">Complete Maturity epic</a></li>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics?scope=all&amp;utf8=%E2%9C%93&amp;state=opened&amp;label_name[]=group%3A%3Ageo">All Epics</a></li>
</ul>
<h3 id=vision>Vision</h3>
<p>As companies increasingly shift towards remote or hybrid work environments, GitLab becomes a central place for collaboration and the DevOps Platform for many customers. GitLab should offer the same great experience to users, regardless of their location.</p>
<p>Geo-replication will provide horizontal scaling and improved user experience for geographically distributed teams. We envision customers being able to easily spin up new Geo sites in new locations to improve the GitLab experience for their remote users. These sites can be tailored to the requirements of the team. End users interact with GitLab via a single URL and can accomplish all of their tasks without having to worry about the underpinning Geo architecture.</p>
<p>Geo sites will accelerate both users and CI runners, allowing loads to be distributed across the Geo sites rather than focused on a single primary site.</p>
<p>Systems administrators will be able to see the utilization of their secondary sites and understand their return on investment for these sites by seeing the number of read requests served, the number of CI jobs run, and the volume of data served by a secondary site. It will be possible to see the improvement in the user experience delivered by these sites such as speed of access to data, load on the primary sites, and number of unique individual users served.</p>
<p>As GitLab evolves, new features are developed and new data types will be created. <a href="https://docs.gitlab.com/ee/development/geo/framework.html">Geo self-service framework</a> is now mature, and all data types will be managed through this framework. The self-service framework makes it easy for these new data types to be added and empowers developers outside the Geo team to add new data types.</p>
<h3 id=target-audience-and-experience>Target audience and experience</h3>
<h4 id=sidney-systems-administrator><a href="https://about.gitlab.com/handbook/product/personas/#sidney-systems-administrator">Sidney (Systems Administrator)</a></h4>
<ul>
<li>🙂 <strong>Minimal</strong> - Sidney is able to configure the Geo-replication setup manually, most commonly used data types are replicated.</li>
<li>😊 <strong>Viable</strong> - Sidney is able to configure Geo-replication in a mostly automated fashion. Various Geo-replication tasks (status reports, maintenance, etc.) can be performed using the GitLab UI. All customer-relevant data types are replicated.</li>
<li>😁 <strong>Complete</strong> - Sidney can set up Geo in an automated and fast way (minutes, not hours). A dashboard provides an overview of all relevant Geo tasks.</li>
<li>😍 <strong>Lovable</strong> - Sidney can set up Geo in an automated and fast way and everything is configurable from the UI, and all sites appear writable.</li>
</ul>
<h4 id=sasha-software-developer><a href="https://about.gitlab.com/handbook/product/personas/#sasha-software-developer">Sasha (Software Developer)</a></h4>
<ul>
<li>🙂 <strong>Minimal</strong> - Sasha has to configure Git manually to use Geo. No automatic proxying of requests to the primary. WebUI on secondary is not available.</li>
<li>😊 <strong>Viable</strong> - Sasha has to configure Git manually but automatic proxying to the primary is possible. WebUI is read-only.</li>
<li>😁 <strong>Complete</strong> - Sasha only requires a single URL for all operations - the correct Geo site is used automatically. Sasha can point CI/CD jobs to a Geo secondary site to reduce the load on the primary.</li>
<li>😍 <strong>Lovable</strong> - Sasha can push and pull directly to a Geo site. Everything is read and writable, including the WebUI. The user experience is the same independent of location.</li>
</ul>
<p>For more information on how we use personas and roles at GitLab, please <a href="https://about.gitlab.com/handbook/product/personas/">click
here</a>.</p>
<h3 id=in-a-year>In a year</h3>
<h4 id=improve-observability>Improve observability</h4>
<p>Geo performs complex operations by scheduling tasks in the background to replicate data to the secondary sites. Geo will <a href="https://gitlab.com/groups/gitlab-org/-/epics/8240">improve the observability</a> of these operations for the systems administrators such that they can monitor tasks that are currently running, tasks scheduled to run in the future and tasks that have failed. For tasks that have failed, Geo will surface information in the UI that will assist in troubleshooting the root cause of the failure. Improved observability will also enhance the experience for systems administrators who are setting up their secondary site for the first time, providing immediate feedback on whether the setup was successful and replication processes are successfully underway. Failed replication can hinder the availability and reliability of a secondary site. Further, it can negatively impact the chances of successful recovery in <a href="https://about.gitlab.com/direction/geo/disaster_recovery/">disaster recovery</a> scenarios resulting in the loss of data.</p>
<h4 id=accelerate-more-data-types>Accelerate more data types</h4>
<p>Today Geo <a href="https://docs.gitlab.com/ee/administration/geo/secondary_proxy/#features-accelerated-by-secondary-geo-sites">accelerates access to several data types</a> including projects, wikis, and LFS objects by serving read requests from the secondary site closest to the user accessing the data. Geo replicates many other data types. Users can benefit from <a href="https://gitlab.com/groups/gitlab-org/-/epics/8239">accelerating more data types</a> with two key benefits:</p>
<ol>
<li>Reduced load on the primary site.</li>
<li>An improved user experience for users accessing this data by serving this data from a secondary site that is closer in location.</li>
</ol>
<p>We will initially focus on the high-impact data types that will deliver the most value to our customers by identifying data types that are large in size and most frequently accessed such as container registries and CI job and pipeline artifacts. As part of this effort, Geo will collect statistics on data types that are proxied to the primary from the secondary sites. This will allow us to make more informed decisions as to which data types to accelerate in the future. This will open up more use cases for Geo-replication and help drive adoption.</p>
<h4 id=ability-to-disable-geo-replication-by-data-type-in-the-ui>Ability to disable Geo-replication by data type in the UI</h4>
<p>To save bandwidth and resources, a systems administrator may want to selectively enable and disable Geo-replication for certain types of data. Currently, this is not possible unless a data type is released behind a feature flag, and this is not the case for all data types. We want to provide administrators with an easy way to <a href="https://gitlab.com/groups/gitlab-org/-/epics/6388">enable or disable replication by data type in the Geo Administrator UI</a>.</p>
<h4 id=simplify-managing-a-multi-node-geo-site-from-a-single-point-of-entry>Simplify managing a multi-node Geo site from a single point of entry</h4>
<p>Configuring and managing a multi-node Geo site requires logging in to multiple nodes to perform specific steps in the correct order.</p>
<p>It would make administrators' jobs a lot easier if operations could be orchestrated from a single point of entry into the site and the appropriate operations performed on the sites. This will lower the technical barrier for adoption of Geo-replication.</p>
<p><a href="https://gitlab.com/gitlab-org/gitlab-environment-toolkit">GitLab Environment Toolkit(GET)</a> is a good place to start and already has a lot of functionality. This is likely where we will start. It also has the ability to manage multiple sites.</p>
<h4 id=easier-and-simpler-setup>Easier and simpler setup</h4>
<p>Setting up Geo is highly manual and cumbersome, especially in high-availability configurations. Simplifying the installation and configuration of Geo for single and multi-node sites will remove a pain point for systems administrators and help drive adoption.</p>
<h4 id=geo-supports-an-advanced-caching-mode>Geo supports an advanced caching mode</h4>
<p>For Geo-replication only a subset of data may need to be replicated but Geo sites require spinning up the entire GitLab stack, less may be sufficient. Additionally, systems administrators can select a subset via selective sync, but they may be wrong.</p>
<p>We are investigating an <a href="https://gitlab.com/groups/gitlab-org/-/epics/2610">advanced caching mode</a> with the following properties:</p>
<ul>
<li>A Geo site that dynamically determines which data needs to be kept close to the remote location</li>
<li>Minimal hardware requirements</li>
<li>Fully hidden behind geo-location-aware URL</li>
</ul>
<h3 id=whats-next--why>What's next &amp; why</h3>
<h4 id=support-decomposed-databases>Support decomposed databases</h4>
<p>GitLab is planning to roll out decomposed databases to self-managed customers. This involves splitting the main rails database into two databases <code>main</code> and <code>ci</code> improving scabality and performance. More details can be found in the blog post, <a href="https://about.gitlab.com/blog/2022/08/04/path-to-decomposing-gitlab-database-part1/">Decomposing the GitLab backend database</a>.</p>
<p>The main rails database is a key component that Geo replicates between Geo sites. The splitting of this database into two separate databases requires Geo to <a href="https://gitlab.com/groups/gitlab-org/-/epics/8631">support this configuration</a> before it is rolled out to self-managed customers. It will ensure their Geo installations will continue to work as it is transitioned to this configuration and they benefit from the improved scale and performance it brings.</p>
<h4 id=publish-a-geo-metrics-dashboard>Publish a Geo metrics dashboard</h4>
<p>It is currently possible for systems administrators to get a basic overview of the Geo status using the Geo Web UI.</p>
<p>Geo also publishes an extensive list of <a href="https://docs.gitlab.com/ee/administration/monitoring/prometheus/gitlab_metrics.html">prometheus metrics</a>. However, these metrics are not easy to consume. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/197147">Publishing a Grafana dashboard</a> would make these metrics more accessible and useful for systems administrators. The GitLab Dedicated team have already built such a dashboard. The Geo team will take over the maintanence and updating of this dashboard. We will also publish this dashboard so that customers can download and import it into their Grafana instance.</p>
<h4 id=accelerate-container-registry>Accelerate container registry</h4>
<p>The container registry is a component that typically contains a large volume of data and is frequently accessed by CI runners. Accelerating the container registry will complement the acceleration of CI runners by allowing the runners to pull from the container registry on a secondary site, allowing the container registry to scale horizontally and distribute the load across Geo secondaries.</p>
<h3 id=what-is-not-planned-right-now>What is not planned right now</h3>
<p>We are currently not planning on moving away from PostgreSQL as a backend database
in favor of e.g CockroachDB or Google Spanner. This has implications for
writable Geo site Geo, but for now, we will continue to support PostgreSQL.</p>
<h4 id=writable-geo-sites>Writable Geo sites</h4>
<p>Geo secondary sites are read-only. Customer feedback has indicated a desire for additional
<a href="https://gitlab.com/gitlab-org/gitlab/-/issues/1381">active active git replication</a>. With the availability of <a href="https://docs.gitlab.com/ee/administration/gitaly/praefect.html">Gitaly Cluster</a> we may start investigating writable Geo sites at some point in FY23.</p>
<h4 id=tightly-coupled-or-synchronous-geo-sites>Tightly coupled or synchronous Geo sites</h4>
<p>Geo will remain an asynchronous solution with loose time constraints for replications and verification.</p>
<h3 id=maturity-plan>Maturity plan</h3>
<p>This category is currently at the <code>Viable</code> maturity level, and our next maturity
target is <code>Lovable</code> (see our <a href="/direction/maturity/#legend">definitions of maturity
levels</a>.</p>
<p>You can track the work that will move the category to <code>Lovable</code> in
<a href="https://gitlab.com/groups/gitlab-org/-/epics/9132">this epic</a>.</p>
<h3 id=metrics>Metrics</h3>
<ul>
<li>Performance indicator is <a href="https://about.gitlab.com/handbook/product/performance-indicators/">number of unique users utilizing a Geo secondary</a></li>
<li>We track the <a href="https://app.periscopedata.com/app/gitlab/500159/Enablement::Geo-Metrics?widget=9939914&amp;udv=0">total number of Geo sites and potential users</a></li>
<li>We track the <a href="https://app.periscopedata.com/app/gitlab/500159/Enablement::Geo-Metrics?widget=6471733&amp;udv=0">distribution of Geo site number</a></li>
</ul>
<h3 id=competitive-landscape>Competitive landscape</h3>
<p>The top competitors for Geo-replication are</p>
<ul>
<li><a href="https://help.github.com/en/enterprise/2.17/admin/installation/about-geo-replication">GitHub Enterprise geo-replication</a></li>
<li><a href="https://azure.microsoft.com/en-gb/products/devops/server">Azure DevOps</a></li>
<li><a href="https://confluence.atlassian.com/bitbucket/work-with-bitbucket-smart-mirroring-838427532.html">Bitbucket Smart Mirroring</a></li>
</ul>
<h4 id=feature-overview>Feature overview</h4>
<table>
<thead>
<tr>
<th>Feature</th>
<th>GitHub</th>
<th>AzureDevOps</th>
<th>Bitbucket Smart Mirroring</th>
<th>GitLab.</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mirror repositories</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Active-active replication</td>
<td>✅</td>
<td>N/A</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td>Selective sync</td>
<td>N/A</td>
<td>N/A</td>
<td>✅</td>
<td>⚠️</td>
</tr>
<tr>
<td>UI configuration</td>
<td>❌</td>
<td>✅</td>
<td>N/A</td>
<td>⚠️</td>
</tr>
<tr>
<td>Kubernetes support</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
<td>⚠️</td>
</tr>
<tr>
<td>Mirror docker registries</td>
<td>❌</td>
<td>N/A</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>LFS and file upload support</td>
<td>✅</td>
<td>N/A</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Geographic routing <sup>1</sup></td>
<td>✅</td>
<td>❌</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>GUI Dashboard</td>
<td>✅</td>
<td>✅</td>
<td>N/A</td>
<td>✅</td>
</tr>
<tr>
<td>Request proxying</td>
<td>✅</td>
<td>N/A</td>
<td>N/A</td>
<td>✅</td>
</tr>
</tbody>
</table>
<p>✅ Fully available
⚠️ Partially available
❌ Not available
N/A No information available</p>
<p><sup>1</sup> Replicas are compatible with geolocation-based DNS routing or load balancing</p>
<h3 id=top-customer-successsales-issues>Top customer success/sales issue(s)</h3>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/3294">GitLab CI should be able to use specific Geo secondary to clone from</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/1381">Active active git replication</a></li>
</ul>
<h3 id=top-user-issues>Top user issues</h3>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/issues?scope=all&amp;state=opened&amp;label_name[]=group%3A%3Ageo&amp;label_name[]=Category%3AGeo%20Replication">Category issues listed by popularity</a></li>
</ul>
<h3 id=top-internal-customer-issuesepics>Top internal customer issues/epics</h3>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/1530">Geo: Create a Geo metrics dashboard</a></li>
</ul>
<h3 id=top-strategy-items>Top strategy item(s)</h3>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/1465">Simplify Geo's installation</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/207168">Secondary mimicry</a></li>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/1527">Geo: Use Geo sites for CI/CD</a></li>
</ul>
</div>
</div>
<div style='display: none'>
<a href="https://gitlab.com/-/ide/project/gitlab-com/www-gitlab-com/edit/master/-/source/direction/geo/geo_replication/index.html.md.erb" id=hidden-web-ide>Edit this page</a>
<a href="https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/source/direction/geo/geo_replication/index.html.md.erb" id=hidden-page-source>View source</a>
</div>
<footer id=global-footer>
<slp-footer></slp-footer>
</footer>
<script src='/javascripts/be-footer.js?cacheBust=4cf1fb774d1'></script>
<script src="/javascripts/libs/jquery.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/jquery-migrate-3.3.0.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/bootstrap.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/jqBootstrapValidation.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/scripts.js?cacheBust=4cf1fb774d1"></script>
<script>
  //<![CDATA[
    $.ajax({
      url: '//munchkin.marketo.net/munchkin.js',
      dataType: 'script',
      cache: true,
      success: function() {
        Munchkin.init('194-VVC-221');
      }
    });
  //]]>
</script>
<script defer=true src='/javascripts/cbextras.js'></script>
<script src="/javascripts/generate-navigation-helpers.js"></script>
</body>
</html>
