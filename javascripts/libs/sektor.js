"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Sektor(e,t){this.element=document.querySelector(e);(t=_extends({size:100,stroke:10,arc:!1,angle:225,sectorColor:"#789",circleColor:"#DDD",fillCircle:!0},t)).stroke=t.arc?t.stroke:0,t.center=t.size/2,t.radius=t.stroke?t.center-t.stroke/2:t.center,this.options=t,this.checkAngle();var r="<svg class='Sektor' viewBox='0 0 "+t.size+" "+t.size+"'>\n      "+this.getCircle()+"\n      "+this.getSector()+"\n    </svg>";this.element.innerHTML=r,this.sector=this.element.querySelector(".Sektor-sector")}Sektor.prototype.checkAngle=function(){this.options.angle>360&&(this.options.angle=this.options.angle%360)},Sektor.prototype.changeAngle=function(e){this.options.angle=e,this.checkAngle(),this.sector.setAttribute("d",this.getSector(!0))},Sektor.prototype.step=function(e,t,r,n){var o=this,s=(new Date).valueOf(),i=n-s;if(i<=0)this.changeAngle(t);else{var c=t-e*i/r;this.changeAngle(c),requestAnimationFrame((function(){return o.step(e,t,r,n)}))}},Sektor.prototype.animateTo=function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?300:arguments[1];e>360&&(e%=360);var n=(new Date).valueOf()+r,o=e-this.options.angle;requestAnimationFrame((function(){return t.step(o,e,r,n)}))},Sektor.prototype.getSector=function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this.options,r=t.arc?"none":t.sectorColor,n=t.arc?t.sectorColor:"none",o=t.angle>180?90:t.angle-90,s=-270+t.angle-180,i=this.getArc(o,t),c=t.angle>180?this.getArc(s,t):"",a="",l=null;t.arc?l="M"+t.center+","+t.stroke/2:(l="M"+t.center+","+t.center+" L"+t.center+","+t.stroke/2,a="z");var h=l+" "+i+" "+c+" "+a;return e?h:"<path\n    class='Sektor-sector'\n    stroke-width='"+t.stroke+"'\n    fill="+r+"\n    stroke="+n+"\n    d='"+h+"' />"},Sektor.prototype.getCircle=function(){var e=this.options,t=e.fillCircle||!e.arc?e.circleColor:"none";return"<circle\n      class='Sektor-circle'\n      stroke-width='"+e.stroke+"'\n      fill="+t+"\n      stroke="+e.circleColor+"\n      cx='"+e.center+"'\n      cy='"+e.center+"'\n      r='"+e.radius+"' />"},Sektor.prototype.getArc=function(e){var t=this.options,r=t.center+t.radius*Math.cos(this.radians(e)),n=t.center+t.radius*Math.sin(this.radians(e));return"A"+t.radius+","+t.radius+" 1 0 1 "+r+","+n},Sektor.prototype.radians=function(e){return e/180*Math.PI},window.Sektor=Sektor;