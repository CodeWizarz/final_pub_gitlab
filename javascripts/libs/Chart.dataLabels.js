Chart.plugins.register({afterDatasetsDraw:function(t,e){var o=t.ctx,n=document.getElementsByTagName("body")[0].offsetWidth;function r(t){return n>=1200?t:n>=992?Math.floor(.8*t):n>=768?Math.floor(.64*t):Math.floor(.5*t)}function a(t){return n>=1200?t:n>=992?Math.floor(.8*t):n>=768?Math.floor(.64*t):Math.floor(t/2)}function l(t){return a(t)}t.data.datasets.forEach((function(e,n){var i=t.getDatasetMeta(n);i.hidden||i.data.forEach((function(n,i){o.fillStyle="rgb(255, 255, 255)";var f=r(28),s="bold",h="'Source Sans Pro', sans-serif";o.font=Chart.helpers.fontString(f,s,h);var c=function(t){return t};"function"==typeof e.formatter&&(c=e.formatter);var d="string"==typeof e.dataPosition?e.dataPosition:"right",x="boolean"==typeof e.showLabel&&e.showLabel,g=c(e.data[i].toString()),u=n._model.label;o.textBaseline="middle";var y=n.tooltipPosition();if(n._view.horizontal){if(o.textAlign=d,"center"===d){var p=.5*(y.x-n._model.base)+n._model.base;p+l(20)>t.ctx.canvas.clientWidth?(t.options.layout.padding.top=a(25),o.fillStyle=e.backgroundColor,o.fillText(g,y.x-l(20),y.y-f/2+a(13)-a(35))):o.fillText(g,p+3,y.y-f/2+a(13))}else o.fillText(g,y.x-7,y.y-f/2+a(13));x&&(f=r(22),s="600",o.font=Chart.helpers.fontString(f,s,h),o.textAlign="left",o.fillStyle="#444",o.fillText(u,y.x+5,y.y-f/2+a(13)))}else n._view.circumference?(f=36,o.font=Chart.helpers.fontString(f,s,h),o.textAlign="center",o.fillText(g,y.x,y.y-f/2+15),x&&(f=20,o.font=Chart.helpers.fontString(f,s,h),o.fillText(u,y.x,y.y-f/2-20))):(o.textAlign="center",o.fillText(g,y.x,y.y-f/2-5+a(40)))}))}))}});