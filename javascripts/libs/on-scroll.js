!function(){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),e=n.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var o=arguments[1],r=0;r<e;){var c=n[r];if(t.call(o,c,r,n))return r;r++}return-1}});var t={ticking:!1,fcn_queue:[],last_scroll_y:0,scroll_direction:!1,support_page_offset:!1,css1_compat:!1,scroll_timer:!1,init:function(){t.setup()},setup:function(){t.support_page_offset=void 0!==window.pageYOffset,t.css1_compat="CSS1Compat"===(document.compatMode||""),window.addEventListener("scroll",t.handleScroll,!1)},scrollY:function(){return t.support_page_offset?window.pageYOffset:t.css1_compat?document.documentElement.scrollTop:document.body.scrollTop},scrollBottom:function(){return t.scrollY()+verge.viewportH()},handleScroll:function(){window.clearTimeout(t.scroll_timer);var n=t.scrollY();n>t.last_scroll_y?t.scroll_direction="down":t.scroll_direction="up",t.last_scroll_y=n,t.scroll_timer=window.setTimeout((function(){try{var t=new Event("scrollend");document.dispatchEvent(t)}catch(t){}}),250),t.requestTick()},requestTick:function(){t.ticking||(window.requestAnimationFrame(t.update),t.ticking=!0)},update:function(){for(var n=0;n<t.fcn_queue.length;n++)t.fcn_queue[n](t.last_scroll_y,t.scroll_direction);t.ticking=!1},addFunction:function(n){"function"==typeof n&&t.fcn_queue.push(n)},removeFunction:function(n){var e=t.fcn_queue.findIndex((function(t){return t===n}));e>=0&&t.fcn_queue.splice(e,1)}};t.init(),window.an_OnScroll=t}();