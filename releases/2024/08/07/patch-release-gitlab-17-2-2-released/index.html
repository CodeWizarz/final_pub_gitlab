<!DOCTYPE html>
<html lang=en>
<head>
<meta charset=UTF-8 />
<meta content='width=device-width, initial-scale=1.0' name=viewport />
<meta content='default-src &#39;self&#39; https: http:; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39; https: http:; style-src &#39;self&#39; &#39;unsafe-inline&#39; https: http:; object-src https: http:; base-uri &#39;self&#39;; connect-src &#39;self&#39; https: http: wss: ws:; frame-src &#39;self&#39; https: http:; img-src &#39;self&#39; https: http: data:; manifest-src &#39;self&#39;; media-src &#39;self&#39; https: http:; worker-src &#39;self&#39; https: http:;' http-equiv=Content-Security-Policy />
<meta content='index, follow' name=robots />
<title>
GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6
|
GitLab
</title>
<meta content='Learn more about GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6 for GitLab Community Edition (CE) and Enterprise Edition (EE).' name=description />
<meta content='Learn more about GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6 for GitLab Community Edition (CE) and Enterprise Edition (EE).' name='twitter:description'/>
<meta content='Learn more about GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6 for GitLab Community Edition (CE) and Enterprise Edition (EE).' property='og:description'/>
<meta content=GitLab property='og:site_name'/>
<meta content='GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6' property='og:title'/>
<meta content='https://gitlab.com/gitlab-com/www-gitlab-com/' property='og:repo'/>
<meta content='https://gitlab.com/' property='og:instance'/>
<meta content='gitlab-com/www-gitlab-com/' property='og:path'/>
<meta content='releases/posts/2024-08-07-patch-release-gitlab-17-2-2-released.html.md' property='og:relative_path'/>
<meta content='sites/uncategorized/' property='og:monorepo_site_path_fragment'/>
<meta content=article property='og:type'/>
<meta content='https://about.gitlab.com/releases/2024/08/07/patch-release-gitlab-17-2-2-released/' property='og:url'/>
<meta content="https://about.gitlab.com/images/blogimages/security-cover-new.png" property="og:image">
<meta content="https://about.gitlab.com/images/blogimages/security-cover-new.png" name="twitter:image">
<meta content=summary_large_image name='twitter:card'/>
<meta content='@GitLab' name='twitter:site'/>
<meta content='GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6' name='twitter:title'/>
<meta content='@GitLab' name='twitter:creator'/>
<link href='/atom.xml' rel=alternate title=Blog type='application/atom+xml'/>
<link href='/all-releases.xml' rel=alternate title='All Releases' type='application/atom+xml'/>
<link href='/security-releases.xml' rel=alternate title='Security Releases' type='application/atom+xml'/>
<link href='/releases.xml' rel=alternate title='Major Releases' type='application/atom+xml'/>
<link href='/ico/favicon.ico?cache=2022041' rel='shortcut icon'/>
<link href='/ico/favicon-192x192.png?cache=2022041' rel=icon sizes=192x192 type='image/png'/>
<link href='/ico/favicon-160x160.png?cache=2022041' rel=icon sizes=160x160 type='image/png'/>
<link href='/ico/favicon-96x96.png?cache=2022041' rel=icon sizes=96x96 type='image/png'/>
<link href='/ico/favicon-16x16.png?cache=2022041' rel=icon sizes=16x16 type='image/png'/>
<link href='/ico/favicon-32x32.png?cache=2022041' rel=icon sizes=32x32 type='image/png'/>
<link href='/ico/apple-touch-icon-57x57.png?cache=2022041' rel=apple-touch-icon sizes=57x57 />
<link href='/ico/apple-touch-icon-114x114.png?cache=2022041' rel=apple-touch-icon sizes=114x114 />
<link href='/ico/apple-touch-icon-72x72.png?cache=2022041' rel=apple-touch-icon sizes=72x72 />
<link href='/ico/apple-touch-icon-144x144.png?cache=2022041' rel=apple-touch-icon sizes=144x144 />
<link href='/ico/apple-touch-icon-60x60.png?cache=2022041' rel=apple-touch-icon sizes=60x60 />
<link href='/ico/apple-touch-icon-120x120.png?cache=2022041' rel=apple-touch-icon sizes=120x120 />
<link href='/ico/apple-touch-icon-76x76.png?cache=2022041' rel=apple-touch-icon sizes=76x76 />
<link href='/ico/apple-touch-icon-152x152.png?cache=2022041' rel=apple-touch-icon sizes=152x152 />
<link href='/ico/apple-touch-icon-180x180.png?cache=2022041' rel=apple-touch-icon sizes=180x180 />
<meta content='#554488' name=msapplication-TileColor />
<meta content='/ico/mstile-144x144.png?cache=2022041' name=msapplication-TileImage />
<meta content='/ico/browserconfig.xml' name=msapplication-config />
<script src='https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js'></script>
<script charset=UTF-8 data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08 src='https://cdn.cookielaw.org/scripttemplates/otSDKStub.js'></script>
<script>
  //<![CDATA[
    function OptanonWrapper() { }
  //]]>
</script>
<script>
  //<![CDATA[
    window.dataLayer = window.dataLayer || []
    function gtag(){dataLayer.push(arguments);}
    gtag('consent', 'default', {
      'analytics_storage': 'denied',
      'ad_storage': 'denied',
      'functionality_storage': 'denied',
      'region': [ 'AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'IS', 'LI', 'NO', 'GB', 'PE', 'RU'],
      'wait_for_update': 500
    });
    gtag('consent', 'default', {
      'analytics_storage': 'granted',
      'ad_storage': 'granted',
      'functionality_storage': 'granted',
      'wait_for_update': 500
    });
    
    window.geofeed = (options) => {
      dataLayer.push({
        'event' : 'OneTrustCountryLoad',
        'oneTrustCountryId': options.country.toString()
      })
    }
    
    const json = document.createElement('script');
    json.setAttribute('src', 'https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed');
    document.head.appendChild(json);
  //]]>
</script>
<script>document.documentElement.className = 'html--js'</script>
<script async='' src='//cdn.bizible.com/scripts/bizible.js'></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-37019925-1', 'auto', {allowLinker: true});
ga('require', 'GTM-WC3ZR2P');
</script>
<script>
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJXWQL');
</script>
<script>
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','5geYbhTxNzL5dsekC-B-','2.0.0');
</script>
<link href='https://about.gitlab.com/releases/2024/08/07/patch-release-gitlab-17-2-2-released.html.md' rel=canonical />
<link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,500,600,700' rel=stylesheet />
<link crossorigin=anonymous href='https://use.fontawesome.com/releases/v5.1.0/css/all.css' integrity='sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt' rel=stylesheet />
<link href='https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.8.7/tiny-slider.css' rel=stylesheet />
<link href="/stylesheets/styles.css" rel=stylesheet /><link href="/stylesheets/highlight.css" rel=stylesheet />

<link href="/stylesheets/slippers.css?cacheBust=4cf1fb774d1" rel=stylesheet />
<link href="/stylesheets/be-navigation.css?cacheBust=4cf1fb774d1" rel=stylesheet />
<script>
dataLayer.push({'tags': ["security"]});
</script>
<script>
dataLayer.push({'category': 'releases'});
</script>
</head>
<body data-spy=scroll data-target='.qnav'>
<noscript>
<iframe height=0 src='//www.googletagmanager.com/ns.html?id=GTM-NJXWQL' style='display:none;visibility:hidden' width=0></iframe>
</noscript>
<template id=be-nav>
<div id=be-nav-target>
<slp-navigation></slp-navigation>
</div>
</template>
<nav class='slp-sticky slp-left-0 slp-right-0 slp-top-0 slp-bg-white slp-z-90' id=global-nav style='z-index: 1000000;'>
<be-navigation></be-navigation>
</nav>
<div class='search-box js-search-box'>
<i class='fa fa-search search-box-icon'></i>
<input class='search-input js-search st-header' placeholder='Search...'/>
<button aria-label='Close search' class='search-close js-search-toggle' type=button>
<i class='fa fa-times'></i>
</button>
</div>
<script src='/javascripts/be-navigation.js?cacheBust=4cf1fb774d1'></script>
<div class='blog article'>
<div class='wrapper body'>
<div class=category-back-link>
<a href="/releases/categories/releases/"><span>&#8592;</span>
<span>Back to</span>
<span>releases</span>
</a></div>
<span class=date>
Aug 7, 2024
</span>
<span>-</span>
<span class=author>
<a href="/company/team/#gitlab">Costel Maxim</a>
<a href="https://gitlab.com/cmaxim"><span>&nbsp;</span>
<span class=author-gitlab>
<i class='fab fa-gitlab'></i>
</span>
</a><a href="https://twitter.com/gitlab"><span>&nbsp;</span>
<span class=author-twitter>
<i class='fab fa-twitter'></i>
</span>
</a></span>
<h1>
GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6
</h1>
<p class=description>
Learn more about GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6 for GitLab Community Edition (CE) and Enterprise Edition (EE).
</p>
<p></p>
<div class=cover style='background-image: url(/images/blogimages/security-cover-new.png);'></div>
<div class=content>

<p>Today we are releasing versions 17.2.2, 17.1.4, 17.0.6 for GitLab Community Edition (CE) and Enterprise Edition (EE).</p>
<p>These versions contain important bug and security fixes, and we strongly recommend that all GitLab installations be upgraded to
one of these versions immediately. GitLab.com is already running the patched version.</p>
<p>GitLab releases fixes for vulnerabilities in dedicated patch releases. There are two types of patch releases:
scheduled releases, and ad-hoc critical patches for high-severity vulnerabilities. Scheduled releases are released twice a month on the second and fourth Wednesdays.
For more information, you can visit our <a href="https://handbook.gitlab.com/handbook/engineering/releases/">releases handbook</a> and <a href="https://about.gitlab.com/security/faq/">security FAQ</a>.
You can see all of GitLab release blog posts <a href="/releases/categories/releases/">here</a>.</p>
<p>For security fixes, the issues detailing each vulnerability are made public on our
<a href="https://gitlab.com/gitlab-org/gitlab/-/issues/?sort=created_date&amp;state=closed&amp;label_name%5B%5D=bug%3A%3Avulnerability&amp;confidential=no&amp;first_page_size=100">issue tracker</a>
30 days after the release in which they were patched.</p>
<p>We are dedicated to ensuring all aspects of GitLab that are exposed to customers or that host customer data are held to
the highest security standards. As part of maintaining good security hygiene, it is highly recommended that all customers
upgrade to the latest patch release for their supported version. You can read more
<a href="/blog/2020/05/20/gitlab-instance-security-best-practices/">best practices in securing your GitLab instance</a> in our blog post.</p>
<h3 id=recommended-action>Recommended Action</h3>
<p>We <strong>strongly recommend</strong> that all installations running a version affected by the issues described below are <strong>upgraded to the latest version as soon as possible</strong>.</p>
<p>When no specific deployment type (omnibus, source code, helm chart, etc.) of a product is mentioned, this means all types are affected.</p>
<h2 id=security-fixes>Security fixes</h2>
<h3 id=table-of-security-fixes>Table of security fixes</h3>
<table>
<thead>
<tr>
<th>Title</th>
<th>Severity</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#privilege-escalation-via-lfs-tokens-granting-unrestricted-repository-access">Privilege Escalation via LFS Tokens Granting Unrestricted Repository Access</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#cross-project-access-of-security-policy-bot">Cross project access of Security policy bot</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#advanced-search-redos-in-highlight-for-code-results">Advanced search ReDOS in highlight for code results</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#denial-of-service-via-banzai-pipeline">Denial of Service via banzai pipeline</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#denial-of-service-using-adoc-files">Denial of service using adoc files</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#redos-in-refmatcher-when-matching-branch-names-using-wildcards">ReDoS in RefMatcher when matching branch names using wildcards</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#path-encoding-can-cause-the-web-interface-to-not-render-diffs-correctly">Path encoding can cause the Web interface to not render diffs correctly.</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#xss-while-viewing-raw-xhtml-files-through-api">XSS while viewing raw XHTML files through API</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#ambiguous-tag-name-exploitation">Ambiguous tag name exploitation</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#logs-disclosings-potentially-sensitive-data-in-query-params">Logs disclosings potentially sensitive data in query params</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#password-bypass-on-approvals-using-policy-projects">Password bypass on approvals using policy projects</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#redos-when-parsing-git-push">ReDoS when parsing git push</a></td>
<td>Medium</td>
</tr>
<tr>
<td><a href="#webhook-deletion-audit-log-can-preserve-auth-credentials">Webhook deletion audit log can preserve auth credentials</a></td>
<td>Medium</td>
</tr>
</tbody>
</table>
<h3 id=privilege-escalation-via-lfs-tokens-granting-unrestricted-repository-access>Privilege Escalation via LFS Tokens Granting Unrestricted Repository Access</h3>
<p>A permission check vulnerability in GitLab CE/EE affecting all versions starting from 8.12 prior to 17.0.6, 17.1 prior to 17.1.4, and 17.2 prior to 17.2.2 allowed for LFS tokens to read and write to the user owned repositories.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:N"><code>CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:N</code></a>, 6.8).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-3035">CVE-2024-3035</a>.</p>
<p>Thanks <a href="https://hackerone.com/pwnie">pwnie</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=cross-project-access-of-security-policy-bot>Cross project access of Security policy bot</h3>
<p>An issue was discovered in GitLab EE affecting all versions starting from 16.0 prior to 17.0.6, starting from 17.1 prior to 17.1.4, and starting from 17.2 prior to 17.2.2, which allowed cross project access for Security policy bot.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:C/C:L/I:L/A:N"><code>CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:C/C:L/I:L/A:N </code></a>, 4.4).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-6356">CVE-2024-6356</a>.</p>
<p>Thanks <a href="https://hackerone.com/yvvdwf">yvvdwf</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=advanced-search-redos-in-highlight-for-code-results>Advanced search ReDOS in highlight for code results</h3>
<p>A Denial of Service (DoS) condition has been discovered in GitLab CE/EE affecting all versions starting with 15.9 before 17.0.6, 17.1 prior to 17.1.4, and 17.2 prior to 17.2.2. It is possible for an attacker to cause catastrophic backtracking while parsing results from Elasticsearch.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L"><code>CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L</code></a>, 4.3).
We have requested a CVE ID and will update this blog post when it is assigned.</p>
<p>This vulnerability was discovered internally by GitLab team member <a href="https://gitlab.com/terrichu">Terri Chu</a>.</p>
<h3 id=denial-of-service-via-banzai-pipeline>Denial of Service via banzai pipeline</h3>
<p>Multiple Denial of Service (DoS) conditions has been discovered in GitLab CE/EE affecting all versions starting from 1.0 prior to 17.0.6, starting from 17.1 prior to 17.1.4, and starting from 17.2 prior to 17.2.2 which allowed an attacker to cause resource exhaustion via banzai pipeline.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H"><code>CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H</code></a>, 6.5).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-5423">CVE-2024-5423</a>.</p>
<p>Thanks <a href="https://hackerone.com/joaxcar">joaxcar</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=denial-of-service-using-adoc-files>Denial of service using adoc files</h3>
<p>A Denial of Service (DoS) condition has been discovered in GitLab CE/EE affecting all versions starting with 12.6 before 17.0.6, 17.1 prior to 17.1.4, and 17.2 prior to 17.2.2. It is possible for an attacker to cause a denial of service using crafted adoc files.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H"><code>CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H</code></a>, 6.5).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4210">CVE-2024-4210</a>.</p>
<p>Thanks <a href="https://hackerone.com/gudanggaramfilter">gudanggaramfilter</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=redos-in-refmatcher-when-matching-branch-names-using-wildcards>ReDoS in RefMatcher when matching branch names using wildcards</h3>
<p>ReDoS flaw in RefMatcher when matching branch names using wildcards in GitLab EE/CE affecting all versions from 11.3 prior to 17.0.6, 17.1 prior to 17.1.4, and 17.2 prior to 17.2.2 allows denial of service via Regex backtracking.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H"><code>CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H</code></a>, 6.5).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-2800">CVE-2024-2800</a>.</p>
<p>Thanks <a href="https://hackerone.com/joaxcar">joaxcar</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=path-encoding-can-cause-the-web-interface-to-not-render-diffs-correctly>Path encoding can cause the Web interface to not render diffs correctly.</h3>
<p>An issue was discovered in GitLab CE/EE affecting all versions starting from 8.16 prior to 17.0.6, starting from 17.1 prior to 17.1.4, and starting from 17.2 prior to 17.2.2, which causes the web interface to fail to render the diff correctly when the path is encoded.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:H/A:N"><code>CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:H/A:N</code></a>, 5.7).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-6329">CVE-2024-6329</a>.</p>
<p>Thanks <a href="https://hackerone.com/st4nly0n">st4nly0n</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=xss-while-viewing-raw-xhtml-files-through-api>XSS while viewing raw XHTML files through API</h3>
<p>A cross-site scripting issue has been discovered in GitLab affecting all versions starting from 5.1 prior 17.0.6, starting from 17.1 prior to 17.1.4, and starting from 17.2 prior to 17.2.2. When viewing an XML file in a repository in raw mode, it can be made to render as HTML if viewed under specific circumstances.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:C/C:L/I:L/A:N"><code>CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:C/C:L/I:L/A:N </code></a>, 4.4).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4207">CVE-2024-4207</a>.</p>
<p>Thanks <a href="https://hackerone.com/joaxcar">joaxcar</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=ambiguous-tag-name-exploitation>Ambiguous tag name exploitation</h3>
<p>An issue has been discovered in GitLab CE/EE affecting all versions before 17.0.6, 17.1 prior to 17.1.4, and 17.2 prior to 17.2.2. An issue was found that allows someone to abuse a discrepancy between the Web application display and the git command line interface to social engineer victims into cloning non-trusted code.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:L/A:N"><code>CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:L/A:N</code></a>, 5.3).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-3958">CVE-2024-3958</a>.</p>
<p>Thanks <a href="https://hackerone.com/st4nly0n">st4nly0n</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=logs-disclosings-potentially-sensitive-data-in-query-params>Logs disclosings potentially sensitive data in query params</h3>
<p>An issue has been discovered in GitLab CE/EE affecting all versions starting from 13.9 before 17.0.6, all versions starting from 17.1 before 17.1.4, all versions starting from 17.2 before 17.2.2. Under certain conditions, access tokens may have been logged when an API request was made in a specific manner.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:N/A:N"><code>CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:N/A:N</code></a>, 4.9).
We have requested a CVE ID and will update this blog post when it is assigned.</p>
<p>This vulnerability was discovered internally by GitLab team member <a href="https://gitlab.com/dcouture">Dominic Couture</a>.</p>
<h3 id=password-bypass-on-approvals-using-policy-projects>Password bypass on approvals using policy projects</h3>
<p>An issue was discovered in GitLab EE starting from version 16.7 before 17.0.6, version 17.1 before 17.1.4 and 17.2 before 17.2.2 that allowed bypassing the password re-entry requirement to approve a policy.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N"><code>CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N</code></a>, 4.2).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4784">CVE-2024-4784</a>.</p>
<p>Thanks <a href="https://hackerone.com/vexin">vexin</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=redos-when-parsing-git-push>ReDoS when parsing git push</h3>
<p>An issue was discovered in GitLab CE/EE affecting all versions starting from 11.10 prior to 17.0.6, 17.1 prior to 17.1.4, and 17.2 prior to 17.2.2, with the processing logic for parsing invalid commits can lead to a regular expression DoS attack on the server.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L"><code>CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L</code></a>, 4.3).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-3114">CVE-2024-3114</a>.</p>
<p>Thanks <a href="https://hackerone.com/joaxcar">joaxcar</a> for reporting this vulnerability through our HackerOne bug bounty program.</p>
<h3 id=webhook-deletion-audit-log-can-preserve-auth-credentials>Webhook deletion audit log can preserve auth credentials</h3>
<p>An issue was discovered in GitLab EE affecting all versions starting from 17.0 prior to 17.0.6, starting from 17.1 prior to 17.1.4, and starting from 17.2 prior to 17.2.2, where webhook deletion audit log preserved auth credentials.
This is a medium severity issue (<a href="https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:C/C:L/I:N/A:N"><code>CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:C/C:L/I:N/A:N</code></a>, 4.1).
It is now mitigated in the latest release and is assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-7586">CVE-2024-7586</a>.</p>
<p>This vulnerability was discovered internally by GitLab Team <a href="https://gitlab.com/anton">Anton Smith</a>.</p>
<h2 id=bug-fixes>Bug fixes</h2>
<h3 id=1722>17.2.2</h3>
<ul>
<li><a href="https://gitlab.com/gitlab-org/build/CNG/-/merge_requests/1932">Backups: Fix parsing of existing backups in Azure storage (Backport 17.2)</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitaly/-/merge_requests/7147">Do not consider pool repos dangling on restore</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160253">Never return nil when search for CC service</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160554">Fix issue in RTE related to adding text before a mention</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160666">Backport 'Check if params data cannot be JSONified' into 17.2</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160434">Document Rake task to show/edit token expirations</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160678">Backport 17.2 - Introduce lock-free rescheduling for duplicate job</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160767">Ignore unknown sequences in sequence fix migration</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160744">Fix squished badges rendering in 17.2</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161081">Optimize CustomAbility specs to reduce build times</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161200">Backport Do not index associated issues that are epic work item type</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160911">bug: Fix template error due to divided by zero</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161241">Put groups_direct field in CI JWT tokens behind feature flag</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161430">Backport 'Fix cluster check metrics' into 17.2</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161539">Backport Beyond Identity bug fixes to 17.2</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161543">Enable <code>project_daily_statistic_counter_attribute_fetch</code> FF by default</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161488">Backport 17.2: Release Environments - pipeline level resource group</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161386">Add require_personal_access_token_expiry application setting</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab-pages/-/merge_requests/1030">Backport 17.2: Mark Cookie SameSite as default over HTTP</a></li>
<li><a href="https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7814">Pin QA CI tests to stable gitlab-org/gitlab branches</a></li>
</ul>
<h3 id=1714>17.1.4</h3>
<ul>
<li><a href="https://gitlab.com/gitlab-org/build/CNG/-/merge_requests/1933">Backups: Fix parsing of existing backups in Azure storage (Backport 17.1)</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160679">Backport 17.1 - Introduce lock-free rescheduling for duplicate job</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160941">Table driven spec needs shorter spec titles backport</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161079">Optimize CustomAbility specs to reduce build times</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161242">Put groups_direct field in CI JWT tokens behind feature flag</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161408">Increase SQL query threashold on work_items test</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160667">Backport 'Check if params data cannot be JSONified' into 17.1</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161541">Backport Beyond Identity bug fixes to 17.1</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161668">Backport gitlab-qa shm fix to 17.1 stable branch</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161388">Add require_personal_access_token_expiry application setting</a></li>
</ul>
<h3 id=1706>17.0.6</h3>
<ul>
<li><a href="https://gitlab.com/gitlab-org/build/CNG/-/merge_requests/1934">Backups: Fix parsing of existing backups in Azure storage (Backport 17.0)</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160815">Backport 17.0 - Introduce lock-free rescheduling for duplicate job</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/160940">Table driven spec needs shorter spec titles backport</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161240">Put groups_direct field in CI JWT tokens behind feature flag</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161389">Add require_personal_access_token_expiry application setting</a></li>
</ul>
<h3 id=16118>16.11.8</h3>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/161391">Add require_personal_access_token_expiry application setting</a></li>
</ul>
<h3 id=add-require_personal_access_token_expiry-application-setting>Add require_personal_access_token_expiry application setting</h3>
<p>This default enabled, optional setting added for admins of GitLab self-managed instances on versions 16.11 and above allow them to enable mandatory expiraton on all new personal, project and group access tokens. Expirations set for existing tokens are not affected by this setting. For usage information see <a href="https://docs.gitlab.com/ee/administration/settings/account_and_limit_settings.html#require-expiration-dates-for-new-access-tokens">Require expiration dates for new access tokens</a></p>
<h2 id=updating>Updating</h2>
<p>To update GitLab, see the <a href="/update">Update page</a>.
To update Gitlab Runner, see the <a href="https://docs.gitlab.com/runner/install/linux-repository.html#updating-the-runner">Updating the Runner page</a>.</p>
<h2 id=receive-patch-notifications>Receive Patch Notifications</h2>
<p>To receive patch blog notifications delivered to your inbox, visit our <a href="https://about.gitlab.com/company/contact/">contact us</a> page.
To receive release notifications via RSS, subscribe to our <a href="https://about.gitlab.com/security-releases.xml">patch release RSS feed</a> or our <a href="https://about.gitlab.com/all-releases.xml">RSS feed for all releases</a>.</p>
<h2 id=were-combining-patch-and-security-releases>We’re combining patch and security releases</h2>
<p>This improvement in our release process matches the industry standard and will help GitLab users get information about security and
bug fixes sooner, <a href="https://about.gitlab.com/blog/2024/03/26/were-combining-patch-and-security-releases/">read the blog post here</a>.</p>
<div class='panel panel-default twitter-block'>
<a class='twitter-block-link panel-body' href='http://twitter.com/share?text=GitLab+Patch+Release%3A+17.2.2%2C+17.1.4%2C+17.0.6+via+%40gitlab&amp;url=https://about.gitlab.com/releases/2024/08/07/patch-release-gitlab-17-2-2-released/&amp;hashtags=' rel=nofollow target=_blank title='Tweet!'>
<span class='twitter-text pull-left'>
GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6
via @gitlab
</span>
<span class=click-to-tweet>
Click to tweet!
<i class='fab fa-twitter'></i>
</span>
</a>
</div>
</div>
<ul class='tag-list list-unstyled'>
<li class=tag>
<a href="/releases/tags.html#security">security</a>
</li>
</ul>
<div class=social>
<div class='share-butons clearfix'>
<a class='share-btn share-btn-facebook' href='http://www.facebook.com/sharer.php?u=https://about.gitlab.com/releases/2024/08/07/patch-release-gitlab-17-2-2-released/' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-facebook'></i>
<span class=sr-only>
Share on Facebook
</span>
</a>
<a class='share-btn share-btn-twitter' href='http://twitter.com/share?url=https://about.gitlab.com/releases/2024/08/07/patch-release-gitlab-17-2-2-released/&amp;text=GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-twitter'></i>
<span class=sr-only>
Share on Twitter
</span>
</a>
<a class='share-btn share-btn-linkedin' href='https://www.linkedin.com/shareArticle?mini=true&amp;url=https://about.gitlab.com/releases/2024/08/07/patch-release-gitlab-17-2-2-released/&amp;title=GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6&amp;summary=&amp;source=' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-linkedin'></i>
<span class=sr-only>
Share on LinkedIn
</span>
</a>
<a class='share-btn share-btn-hackernews' href='https://news.ycombinator.com/submitlink?u=https://about.gitlab.com/releases/2024/08/07/patch-release-gitlab-17-2-2-released/&amp;t=GitLab Patch Release: 17.2.2, 17.1.4, 17.0.6' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-hacker-news'></i>
<span class=sr-only>
Share on Hacker News
</span>
</a>
</div>
</div>
<nav aria-label='Blog post pager'>
<ul class=pager>
<li class=pull-left>
<a href="/releases/2024/07/24/patch-release-gitlab-17-2-1-released/" title="GitLab Patch Release: 17.2.1, 17.1.3, 17.0.5"><i class='fa fa-chevron-left'></i>
<span class=screen-reader-text>Previous Post:</span>
<span class=adjacent_post_title>
GitLab Patch Release: 17.2.1, 17.1.3, 17.0.5
</span>
</a></li>
<li class=pull-right>
<a href="/releases/2024/08/15/gitlab-17-3-released/" title="GitLab 17.3 released with GitLab Duo Root Cause Analysis"><span class=screen-reader-text>Next Post:</span>
<span class=adjacent_post_title>
GitLab 17.3 released with GitLab Duo Root Cause
...
</span>
<i class='fa fa-chevron-right'></i>
</a></li>
</ul>
</nav>
</div>
<div class='wrapper signup'>
<div class="panel panel-default nl panel-newsletter-signup">
<div class=row>
<div class="col-12 newsletter">
<div class=newsletter-form style="margin: 32px 0">
<span class=newsletter-preamble>
Sign up for GitLab's monthly newsletter
</span>
<script src="//page.gitlab.com/js/forms2/js/forms2.min.js"></script>
<form id=mktoForm_1077 style="display: initial"></form>
<script>

          MktoForms2.setOptions(
          {
            formXDPath : "/rs/194-VVC-221/images/marketo-xdframe-relative.html"
          });
          MktoForms2.loadForm("//page.gitlab.com", "194-VVC-221", 1077, function(form) {
            form.onSuccess(function(values, followUpUrl) {

              dataLayer.push(
              {
                'event' : 'mktoLead', 
                'mktoFormId' : form.getId(),
                'eventCallback' : function()
                {
                  form.getFormElem().hide();
                  document.getElementById('confirmform').style.display = 'block';
                }, 'eventTimeout' : 3000
              });
              return false;
            });
            function getgacid() {
              try {
                var tracker = ga.getAll()[0];
                return tracker.get('clientId');
              } catch (e) {
                return 'n/a';
              }
            }
            form.vals({
              'gacid': getgacid()
            });
          });
        </script>
<div id=confirmform class=confirm-message style="display:none;"><p>Thanks for subscribing!</p></div>
</div>
</div>
</div>
</div>
</div>
<div class=gitlab-trial>
<div class=gitlab-trial__wrapper>
<div class=gitlab-trial__left-side>
<h2>
Take GitLab for a spin
</h2>
<p>
See what your team could do with The DevSecOps Platform.
</p>
<a href="https://gitlab.com/-/trials/new?glm_content=default-saas-trial&amp;glm_source=about.gitlab.com" class="btn cta-btn" data-ga-name="free trial" data-ga-location="try partial">Get free trial</a>
</div>
<div class=gitlab-trial__right-side>
<img src="/images/cta/gitlab-enterprise-team-member-photos.png" alt=""/>
<p>
Have a question? We're here to help.
</p>
<a class=sales-cta href='https://about.gitlab.com/sales/'>
Talk to an expert
</a>
</div>
</div>
</div>
<div style='display: none'>
<a href="https://gitlab.com/-/ide/project/gitlab-com/www-gitlab-com/edit/master/-/sites/uncategorized/source/releases/posts/2024-08-07-patch-release-gitlab-17-2-2-released.html.md" id=hidden-web-ide>Edit this page</a>
<a href="https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/sites/uncategorized/source/releases/posts/2024-08-07-patch-release-gitlab-17-2-2-released.html.md" id=hidden-page-source>View source</a>
</div>
<footer id=global-footer>
<slp-footer></slp-footer>
</footer>
<script src='/javascripts/be-footer.js?cacheBust=4cf1fb774d1'></script>
<script src="/javascripts/libs/jquery.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/jquery-migrate-3.3.0.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/bootstrap.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/jqBootstrapValidation.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/scripts.js?cacheBust=4cf1fb774d1"></script>
<script>
  //<![CDATA[
    $.ajax({
      url: '//munchkin.marketo.net/munchkin.js',
      dataType: 'script',
      cache: true,
      success: function() {
        Munchkin.init('194-VVC-221');
      }
    });
  //]]>
</script>
<script defer=true src='/javascripts/cbextras.js'></script>
</div>
</body>
</html>
