<!DOCTYPE html>
<html lang=en>
<head>
<meta charset=UTF-8 />
<meta content='width=device-width, initial-scale=1.0' name=viewport />
<meta content='default-src &#39;self&#39; https: http:; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39; https: http:; style-src &#39;self&#39; &#39;unsafe-inline&#39; https: http:; object-src https: http:; base-uri &#39;self&#39;; connect-src &#39;self&#39; https: http: wss: ws:; frame-src &#39;self&#39; https: http:; img-src &#39;self&#39; https: http: data:; manifest-src &#39;self&#39;; media-src &#39;self&#39; https: http:; worker-src &#39;self&#39; https: http:;' http-equiv=Content-Security-Policy />
<meta content='index, follow' name=robots />
<title>
GitLab 8.12 Released with Cycle Analytics and Global Code Search
|
GitLab
</title>
<meta content='GitLab 8.12 with Cycle Analytics, Global Code Search, Merge Request Versions, Review Apps, Push rules to prevent secrets and much, much more!' name=description />
<meta content='GitLab 8.12 with Cycle Analytics, Global Code Search, Merge Request Versions, Review Apps, Push rules to prevent secrets and much, much more!' name='twitter:description'/>
<meta content='GitLab 8.12 with Cycle Analytics, Global Code Search, Merge Request Versions, Review Apps, Push rules to prevent secrets and much, much more!' property='og:description'/>
<meta content=GitLab property='og:site_name'/>
<meta content='GitLab 8.12 Released with Cycle Analytics and Global Code Search' property='og:title'/>
<meta content='https://gitlab.com/gitlab-com/www-gitlab-com/' property='og:repo'/>
<meta content='https://gitlab.com/' property='og:instance'/>
<meta content='gitlab-com/www-gitlab-com/' property='og:path'/>
<meta content='releases/posts/2016-09-22-gitlab-8-12-released.html.md' property='og:relative_path'/>
<meta content='sites/uncategorized/' property='og:monorepo_site_path_fragment'/>
<meta content=article property='og:type'/>
<meta content='https://about.gitlab.com/releases/2016/09/22/gitlab-8-12-released/' property='og:url'/>
<meta content="https://about.gitlab.com/images/tweets/gitlab-8-12-released.png" property="og:image">
<meta content="https://about.gitlab.com/images/tweets/gitlab-8-12-released.png" name="twitter:image">
<meta content=summary_large_image name='twitter:card'/>
<meta content='@GitLab' name='twitter:site'/>
<meta content='GitLab 8.12 Released with Cycle Analytics and Global Code Search' name='twitter:title'/>
<meta content='@GitLab' name='twitter:creator'/>
<link href='/atom.xml' rel=alternate title=Blog type='application/atom+xml'/>
<link href='/all-releases.xml' rel=alternate title='All Releases' type='application/atom+xml'/>
<link href='/security-releases.xml' rel=alternate title='Security Releases' type='application/atom+xml'/>
<link href='/releases.xml' rel=alternate title='Major Releases' type='application/atom+xml'/>
<link href='/ico/favicon.ico?cache=2022041' rel='shortcut icon'/>
<link href='/ico/favicon-192x192.png?cache=2022041' rel=icon sizes=192x192 type='image/png'/>
<link href='/ico/favicon-160x160.png?cache=2022041' rel=icon sizes=160x160 type='image/png'/>
<link href='/ico/favicon-96x96.png?cache=2022041' rel=icon sizes=96x96 type='image/png'/>
<link href='/ico/favicon-16x16.png?cache=2022041' rel=icon sizes=16x16 type='image/png'/>
<link href='/ico/favicon-32x32.png?cache=2022041' rel=icon sizes=32x32 type='image/png'/>
<link href='/ico/apple-touch-icon-57x57.png?cache=2022041' rel=apple-touch-icon sizes=57x57 />
<link href='/ico/apple-touch-icon-114x114.png?cache=2022041' rel=apple-touch-icon sizes=114x114 />
<link href='/ico/apple-touch-icon-72x72.png?cache=2022041' rel=apple-touch-icon sizes=72x72 />
<link href='/ico/apple-touch-icon-144x144.png?cache=2022041' rel=apple-touch-icon sizes=144x144 />
<link href='/ico/apple-touch-icon-60x60.png?cache=2022041' rel=apple-touch-icon sizes=60x60 />
<link href='/ico/apple-touch-icon-120x120.png?cache=2022041' rel=apple-touch-icon sizes=120x120 />
<link href='/ico/apple-touch-icon-76x76.png?cache=2022041' rel=apple-touch-icon sizes=76x76 />
<link href='/ico/apple-touch-icon-152x152.png?cache=2022041' rel=apple-touch-icon sizes=152x152 />
<link href='/ico/apple-touch-icon-180x180.png?cache=2022041' rel=apple-touch-icon sizes=180x180 />
<meta content='#554488' name=msapplication-TileColor />
<meta content='/ico/mstile-144x144.png?cache=2022041' name=msapplication-TileImage />
<meta content='/ico/browserconfig.xml' name=msapplication-config />
<script src='https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js'></script>
<script charset=UTF-8 data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08 src='https://cdn.cookielaw.org/scripttemplates/otSDKStub.js'></script>
<script>
  //<![CDATA[
    function OptanonWrapper() { }
  //]]>
</script>
<script>
  //<![CDATA[
    window.dataLayer = window.dataLayer || []
    function gtag(){dataLayer.push(arguments);}
    gtag('consent', 'default', {
      'analytics_storage': 'denied',
      'ad_storage': 'denied',
      'functionality_storage': 'denied',
      'region': [ 'AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'IS', 'LI', 'NO', 'GB', 'PE', 'RU'],
      'wait_for_update': 500
    });
    gtag('consent', 'default', {
      'analytics_storage': 'granted',
      'ad_storage': 'granted',
      'functionality_storage': 'granted',
      'wait_for_update': 500
    });
    
    window.geofeed = (options) => {
      dataLayer.push({
        'event' : 'OneTrustCountryLoad',
        'oneTrustCountryId': options.country.toString()
      })
    }
    
    const json = document.createElement('script');
    json.setAttribute('src', 'https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed');
    document.head.appendChild(json);
  //]]>
</script>
<script>document.documentElement.className = 'html--js'</script>
<script async='' src='//cdn.bizible.com/scripts/bizible.js'></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-37019925-1', 'auto', {allowLinker: true});
ga('require', 'GTM-WC3ZR2P');
</script>
<script>
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJXWQL');
</script>
<script>
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','5geYbhTxNzL5dsekC-B-','2.0.0');
</script>
<link href='https://about.gitlab.com/releases/2016/09/22/gitlab-8-12-released/' rel=canonical />
<link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,500,600,700' rel=stylesheet />
<link crossorigin=anonymous href='https://use.fontawesome.com/releases/v5.1.0/css/all.css' integrity='sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt' rel=stylesheet />
<link href='https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.8.7/tiny-slider.css' rel=stylesheet />
<link href="/stylesheets/styles.css" rel=stylesheet /><link href="/stylesheets/highlight.css" rel=stylesheet />

<link href="/stylesheets/slippers.css?cacheBust=4cf1fb774d1" rel=stylesheet />
<link href="/stylesheets/be-navigation.css?cacheBust=4cf1fb774d1" rel=stylesheet />
<script>
dataLayer.push({'category': 'releases'});
</script>
</head>
<body data-spy=scroll data-target='.qnav'>
<noscript>
<iframe height=0 src='//www.googletagmanager.com/ns.html?id=GTM-NJXWQL' style='display:none;visibility:hidden' width=0></iframe>
</noscript>
<template id=be-nav>
<div id=be-nav-target>
<slp-navigation></slp-navigation>
</div>
</template>
<nav class='slp-sticky slp-left-0 slp-right-0 slp-top-0 slp-bg-white slp-z-90' id=global-nav style='z-index: 1000000;'>
<be-navigation></be-navigation>
</nav>
<div class='search-box js-search-box'>
<i class='fa fa-search search-box-icon'></i>
<input class='search-input js-search st-header' placeholder='Search...'/>
<button aria-label='Close search' class='search-close js-search-toggle' type=button>
<i class='fa fa-times'></i>
</button>
</div>
<script src='/javascripts/be-navigation.js?cacheBust=4cf1fb774d1'></script>
<div class='blog article'>
<div class='wrapper body'>
<div class=category-back-link>
<a href="/releases/categories/releases/"><span>&#8592;</span>
<span>Back to</span>
<span>releases</span>
</a></div>
<span class=date>
Sep 22, 2016
</span>
<span>-</span>
<span class=author>
<a href="/company/team/#Jobvo">Job van der Voort</a>
<a href="https://twitter.com/Jobvo"><span>&nbsp;</span>
<span class=author-twitter>
<i class='fab fa-twitter'></i>
</span>
</a></span>
<h1>
GitLab 8.12 Released with Cycle Analytics and Global Code Search
</h1>
<p class=description>
GitLab 8.12 with Cycle Analytics, Global Code Search, Merge Request Versions, Review Apps, Push rules to prevent secrets and much, much more!
</p>
<p></p>
<div class=cover style='background-image: url(/images/8_12/header.jpg);'></div>
<div class=content>
<p>Whether you're working on a small or a large project, your tools should get out of your way and give you actionable feedback. This month, we're making sure GitLab does both better than ever.</p>
<p>GitLab 8.12 gives you feedback on how efficiently you actually work, helps you find code across the entire instance, makes your workflow much safer with a single click, and much more.</p>
<p>This month's Most Valuable Person (<a href="/community/mvp/">MVP</a>) is
James Munnelly for contributing the
<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/30">Kubernetes executor in the GitLab CI runner</a>.
This feature allows users to run CI tests in a Kubernetes cluster easily.
James created this merge request over a year ago and showed great patience
and persistence in the review process to see it to completion.
Thanks, James!</p>
<h2 id=cycle-analytics>Cycle Analytics</h2>
<p>Reducing cycle time, the time it takes you to go from idea all the way to
production, is the <a href="/blog/2016/09/14/gitlab-live-event-recap/#convdev">first principle of conversational development</a>.
The shorter the cycle time, the higher the efficiency of your team.</p>
<p>In order to make it possible to actually see what your cycle time is, we're
introducing <a href="/2016/09/21/cycle-analytics-feature-highlight/">Cycle Analytics</a> with GitLab 8.12.</p>
<p><img src="/images/8_12/cycle_analytics.png" alt="Cycle Analytics in GitLab 8.12"/></p>
<p>Cycle Analytics tells you what your cycle time is and breaks it down into
several steps, so you can quickly see where to improve and accurately predict
when you're shipping something.</p>
<p>Find Cycle Analytics under Pipelines in all your projects.</p>
<blockquote>
<p>Read more in the <a href="https://docs.gitlab.com/ee/user/analytics/value_stream_analytics.html">documentation for Cycle Analytics</a></p>
</blockquote>
<h2 id=global-code-search-ee>Global Code Search (EE)</h2>
<p>If you're running Elasticsearch on your GitLab Enterprise Edition instance,
you will now be able to search through <em>all</em> code on the server!</p>
<p><img src="/images/8_12/search.gif" alt="Global code search in GitLab EE 8.12"/></p>
<p>Just use the search as before and GitLab will show you matching code from each
project you have access to.</p>
<p>Note that this change requires that you rebuild your Elasticsearch index.
See the upgrade barometer below for more information.</p>
<h2 id=merge-request-versions>Merge Request Versions</h2>
<p>When you're pushing more than a single commit to a merge request,
it can be hard to view what changed between versions and the target branch.</p>
<p><img src="/images/8_12/mr_versions.png" alt="Merge Request Versions in GitLab 8.12"/></p>
<p>With merge request versions you can view previous states of a merge request: compare between a previous commit and the target branch or even between versions, showing you what has changed between certain commits.</p>
<blockquote>
<p>Read more in the <a href="https://docs.gitlab.com/ee/user/project/merge_requests/versions.html">documentation for Merge request revisions</a></p>
</blockquote>
<h2 id=preventing-secrets-in-your-repositories-ee>Preventing Secrets in your repositories (EE)</h2>
<p>It's a bad idea to commit secrets (such as keys and certificates) to your repositories: they'll be cloned to the machines of anyone that has access to the repository, only one of which has to be insecure for the information to be compromised.</p>
<p>Yet it happens quite easily. You write <code>git commit -am 'quickfix' &amp;&amp; git push</code> and suddenly you've committed files that were meant to stay local!</p>
<p>GitLab now has a new push rule that will prevent commits with secrets from entering the repository. Just check the checkbox and GitLab will prevent common unsafe files such as <code>.pem</code> and <code>.key</code> from being committed.</p>
<p><img src="/images/8_12/secrets.png" alt="Prevent secrets in your repo in GitLab EE 8.12"/></p>
<p>GitLab Enterprise Edition already had a feature that allows you to block files based on a regular expression, which you can leverage to block anything that we didn't think of. We also welcome suggestions and contributions to make this push rule even better.</p>
<blockquote>
<p>Read more in the <a href="https://docs.gitlab.com/ee/push_rules/push_rules.html#prevent-pushing-secrets-to-the-repository">documentation on Push rules</a></p>
</blockquote>
<h2 id=review-apps-experimental>Review Apps (Experimental)</h2>
<p>We've made several additions to CI that, when combined, make some magic.</p>
<p>You can now use predefined CI variables as a name for environments. In addition, you can specify a URL for the environment configuration in your <code>.gitlab-ci.yml</code> file. Together, these features bring the first iteration of Review Apps.</p>
<p>Review apps are automatically-created environments that run your code for each branch. That means merge requests can be reviewed in a live-running environment. This was inspired by <a href="https://devcenter.heroku.com/articles/github-integration-review-apps">Heroku's Review Apps</a> which itself was inspired by <a href="https://github.com/rainforestapp/fourchette">Fourchette</a>.</p>
<p>These are small changes, but will make a huge impact on your development flow.
Reviewing anything from performance to interface changes becomes much easier
with a live environment.</p>
<p>Right now, Review Apps are labelled experimental, as the environments are not automatically destroyed when no longer necessary.</p>
<p>We're <a href="https://gitlab.com/gitlab-com/blog-posts/issues/275">working on a blog post</a> that will have an example.</p>
<h2 id=ssh-authentication-for-lfs>SSH Authentication for LFS</h2>
<p>If you're used to using SSH for your Git pushes, it was frustrating to
still have to enter credentials whenever using LFS.</p>
<p>GitLab will now leverage your SSH key when using LFS, meaning that if you're
using LFS while connecting through SSH, you no longer have to manually
enter your credentials!</p>
<p>File transfers of LFS still happen over HTTP.</p>
<h2 id=toggle-lfs>Toggle LFS</h2>
<p>Git LFS (Large File Storage) is great, but as the name implies, it can have
significant impact on your disk capacity. To make you feel a bit more secure about the LFS usage on your instance, you can now toggle LFS on instance, group, and project levels.</p>
<p>For instance, as a GitLab administrator, you can decide to turn off LFS for the entire instance, yet enable it for only a single group or project.</p>
<h2 id=limit-project-size-ee>Limit Project Size (EE)</h2>
<p>As an alternative to restricting LFS, you might just want to prevent projects
from growing too large. You can now limit project size. This will take into account all repository data and LFS objects and stop any commits that will surpass that limit.</p>
<p><img src="/images/8_12/repo_size.png" alt="Limit project size in GitLab EE 8.12"/></p>
<p>You can set a global project limit and override that on group and project level, as an admin. This way, you can give particular projects extra space if necessary.</p>
<blockquote>
<p>Read mote in the <a href="https://docs.gitlab.com/ee/administration/settings/account_and_limit_settings.html#repository-size-limit">documentation about limiting the repository size</a></p>
</blockquote>
<h2 id=ldapactive-directory-improvements>LDAP/Active Directory Improvements</h2>
<p>This release contains several improvements to LDAP/Active Directory support
for GitLab CE and EE:</p>
<ul>
<li>CE/EE - Request only the LDAP user/group attributes that GitLab requires (CE <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6187">!6187</a> and EE <a href="https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/712">!712</a>), reducing the amount of data across the wire between GitLab and the LDAP/Active Directory server. This also decreases the object memory footprint within GitLab.</li>
<li>EE - Faster Active Directory nested group and ranged member (large group) retrieval (<a href="https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/719">!719</a>)</li>
<li>EE - Add 'Sync now' option to group membership page when LDAP group links are present (<a href="https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/704">!704</a>)</li>
</ul>
<h2 id=recover-2fa-tokens-through-ssh>Recover 2FA tokens through SSH</h2>
<p>You can now recover your 2FA security codes using SSH. This should make it
easier to recover your account, while still maintaining a level of security.</p>
<blockquote>
<p>Read more in the <a href="https://docs.gitlab.com/ee/user/profile/account/two_factor_authentication.html#generate-new-recovery-codes-using-ssh">documentation about recovering 2FA via SSH</a>.</p>
</blockquote>
<h2 id=filter-tags-by-name>Filter Tags by Name</h2>
<p>Want to quickly find a tag? That's much easier now with a handy little filter on top:</p>
<p><img src="/images/8_12/tag_filter.png" alt="Filter tags by name in GitLab 8.12"/></p>
<h2 id=api-additions>API additions</h2>
<p>We've expanded our API on several points with GitLab 8.12:</p>
<ul>
<li>Allow to set <code>request_access_enabled</code> for groups and projects using API</li>
<li>Add <code>notification_settings</code> API calls</li>
<li>Add a <code>BroadcastMessage</code> API</li>
<li>You can now fork to a specific namespace through the API</li>
<li>Allow to set enable/disable access request for groups and projects.</li>
<li>Add <code>web_url</code> field to issue, merge request, and snippet objects. (community contribution)</li>
<li>Expose <code>sha</code> and <code>merge_commit_sha</code> in merge request API. (community contribution)</li>
<li>Expose issue confidentiality flag. (community contribution)</li>
<li>Added <code>only_allow_merge_if_build_succeeds</code> project setting. (community contribution)</li>
<li>Add endpoint to lint your <code>.gitlab-ci.yml</code> file. (community contribution)</li>
<li>Add an API to list manual actions on Environments and Deployments</li>
</ul>
<h2 id=improved-github-importer>Improved GitHub Importer</h2>
<p>Our GitHub importer keeps getting better, making it easier to migrate to
GitLab. With GitLab 8.12, the importer will also copy release notes over to
GitLab and now lets you choose the namespace you want your imported projects
to go into.</p>
<p><img src="/images/8_12/gh_namespace.png" alt="Improved GitHub importer in GitLab 8.12" class=shadow /></p>
<p>This should make it easier to migrate if you already have existing projects
or prefer something different than GitLab's way of importing your projects.</p>
<blockquote>
<p>Read more in the <a href="https://docs.gitlab.com/ee/user/project/import/github.html">documentation about importing your repositories from GitHub</a>.</p>
</blockquote>
<h2 id=bulk-update-merge-requests>Bulk update Merge Requests</h2>
<p>You can now bulk update merge requests. This means you can set the status, assignee, milestone, label or subscription to multiple merge requests at once.</p>
<p><img src="/images/8_12/bulk.gif" alt="Bulk update Merge Requests in GitLab 8.12"/></p>
<p>Managing merge-request-heavy project should be a lot easier with this!</p>
<p><a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6226">!6226</a></p>
<h2 id=build-grouping>Build Grouping</h2>
<p>If you have many similar builds, your pipeline graph becomes very long. We've made a small change to improve this: similar builds will now automatically group together.</p>
<p><img src="/images/8_12/build_grouping.png" alt="Build grouping in GitLab 8.12" class=shadow /></p>
<h2 id=expanded-syntax-highlighting>Expanded syntax highlighting</h2>
<p>By upgrading to <a href="https://github.com/jneen/rouge">rouge</a> 2.0.6, we've added syntax highlighting for JSX, Prometheus, mxml, 1c, turtle/trig, vhdl, and improved highlighting for Swift 3.</p>
<h2 id=sentry-integration-of-workhorse>Sentry integration of Workhorse</h2>
<p>GitLab-Workhorse can now report application errors to Sentry.</p>
<blockquote>
<p><a href="https://gitlab.com/gitlab-org/gitlab-workhorse/blob/master/README.md#error-tracking">Read more in the GitLab-Workhorse docs</a></p>
</blockquote>
<h2 id=gitlab-runner-16>GitLab Runner 1.6</h2>
<p>We are also releasing GitLab Runner 1.6 today. Some highlights:</p>
<ul>
<li>Kubernetes executor (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/30">!30</a> and <a href="https://gitlab.com/gitlab-org/gitlab-ci-multi-runner/merge_requests/277">!277</a>), this allows Kubernetes to automatically scale the number of CI runners. All your builds will be processed immediately without having idle machines running when it's not busy.</li>
<li>Autocompletion of <em>/ci</em> in GitLab URL while registering the Runner (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/289">!289</a>)</li>
<li>Configuration options for specifying scripts executed before clone/fetch is done and before build script is executed (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/106">!106</a>)</li>
<li>Improvements in passing CA certificates to builds (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/299">!299</a>)</li>
<li>Improvement in disabling recursive submodules fetching/cloning (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/314">!314</a>)</li>
<li>Improve docker machine logging (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/234">!234</a>)</li>
<li>Add possibility to specify a list of volumes to inherit from another container (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/236">!236</a>)</li>
<li>Generate a <code>BuildError</code> instead of <code>SystemError</code> when Docker/Kubernetes image is missing (<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/295">!295</a>)</li>
</ul>
<p>To see the full list of all changes please read <a href="https://gitlab.com/gitlab-org/gitlab-runner/blob/master/CHANGELOG.md">the Runner's CHANGELOG file</a>.</p>
<h2 id=gitlab-mattermost-34>GitLab Mattermost 3.4</h2>
<p>GitLab 8.12 includes <a href="https://about.mattermost.com/mattermost-3-4/">Mattermost 3.4</a>,
an <a href="https://about.mattermost.com">open source Slack-alternative</a> whose newest
release offers 700 integrations with full Markdown support via Zapier,
simplified bot and 3rd party authentication via OAuth2, and community
integrations with Gitter, Heroku, Pivotal Tracker, Chef, Ansible and Yunohost.</p>
<h2 id=performance-improvements>Performance Improvements</h2>
<ul>
<li>Sidekiq processes now use a connection pool when using Rails' caching
mechanism: <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6429">merge request</a></li>
<li>The <code>oj</code> Gem is now used for faster JSON processing: <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6395">merge request</a></li>
<li>The column <code>projects.last_activity_at</code> is only updated once an hour to reduce
database load: <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6391">merge request</a></li>
<li>The column <code>projects.pushes_since_gc</code> has been moved from the database to
Redis to reduce database load: <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6326">merge request</a></li>
<li>Protected branch checks are not performed when no branch name is known,
reducing time spent in this process: <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6317">merge request</a></li>
<li>Checking if one can resolve a note is only done when notes can be resolved in
the first place: <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6298">merge request</a></li>
<li>The <code>ci_runners</code> table is now updated less frequently to reduce database load:
<a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/6126">merge request</a></li>
<li>The number of database queries used for the "Builds" tab for
commits/merge requests has been reduced: <a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/5957">merge request</a></li>
<li>The payload size for the contributions calendar has been reduced:
<a href="https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/5784">merge request</a></li>
</ul>
<h2 id=build-permissions-changes>Build permissions changes</h2>
<p>GitLab 8.12 brings very important changes to build permissions.</p>
<p>We decided that build permissions should be tightly integrated with the
permissions of the user triggering a build for the following reasons:</p>
<ul>
<li>We already have a permission system in place: group and project membership of
users.</li>
<li>We already know who is triggering a build (using git push, using web,
executing triggers).</li>
<li>We already know what that user is allowed to do.</li>
<li>We use the user's permissions for builds that are triggered by pusher.</li>
<li>It is simple and convenient that your build can access everything that you
have access to.</li>
<li>We can issue a short-lived unique tokens, granting access for the duration of
the build.</li>
<li>It fits very well into our philosophy of having everything integrated.</li>
<li>This provides a lot of possibilities to further enforce user permissions, such
as allowing only specific users to access runners, secure variables and
environments.</li>
</ul>
<p>Now, any build that was triggered by the user is also signed with his
permissions. When a user does <code>git push</code> or modifies files through the UI (<strong>the
pusher</strong>), we will create a new Pipeline. The Pipeline will be owned by the
pusher. So builds created in this pipeline will have the permissions of <strong>the
pusher</strong>.</p>
<p>This allows us to make it easy to evaluate access for all dependent projects and
container images that the pusher would have access too. The permission is
granted only for the duration of the build. The access is revoked after the
build is finished.</p>
<p>For detailed information about the build permissions and the changes it brings
please see <a href="https://docs.gitlab.com/ee/user/permissions.html#build-permissions">our documentation</a>.</p>
<p>For the history and reasoning behind this change, you can read the full
discussion in <a href="https://gitlab.com/gitlab-org/gitlab-ce/issues/18994">the issue</a>.</p>
<h2 id=submodules-in-ci>Submodules in CI</h2>
<p>Submodules were one of the reasons we redesigned the build permissions.
Now using Submodules in your CI builds is easy.</p>
<p>To use submodules you have to use a <code>.gitmodules</code> file, which looks something
like this:</p>
<div class=highlight><pre class="highlight ini"><code><span class="nn">[submodule "tools"]</span>
    <span class="py">path</span> <span class="p">=</span> <span class="s">tools</span>
    <span class="py">url</span> <span class="p">=</span> <span class="s">git@gitlab.com/group/tools.git</span>
</code></pre></div>
<p>To use the new build permissions for your submodules you have to convert your
URLs to be relative:</p>
<div class=highlight><pre class="highlight ini"><code><span class="nn">[submodule "tools"]</span>
    <span class="py">path</span> <span class="p">=</span> <span class="s">tools</span>
    <span class="py">url</span> <span class="p">=</span> <span class="s">../../group/tools.git</span>
</code></pre></div>
<p>This will instruct Git to use the same credentials as it would for checking out
your project sources.</p>
<p>The last step is to tell GitLab CI to fetch submodules:</p>
<div class=highlight><pre class="highlight yaml"><code><span class="na">before_script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">git submodule update --init --recursive</span>
</code></pre></div>
<p>You can read more about support for submodules in our <a href="https://docs.gitlab.com/ee/user/project/new_ci_build_permissions_model.html#git-submodules">documentation</a>.</p>
<h2 id=other-changes>Other changes</h2>
<p>This release has more improvements, including security fixes. Please check out
<a href="https://gitlab.com/gitlab-org/gitlab-ce/blob/master/CHANGELOG.md">the Changelog</a>
to see the all named changes.</p>
<h2 id=upgrade-barometer>Upgrade barometer</h2>
<p>This release requires downtime due to foreign keys being added, column types
being changed, and various columns being removed from some tables. The whole
migration process could take up to 30 minutes for large instances. Smaller instances should expect a downtime of about 10-15 minutes.</p>
<h3 id=ee-only-elasticsearch-re-indexing>(EE Only) Elasticsearch re-indexing</h3>
<p>We changed the structure of Elasticsearch index for repositories, making use of Parent Child relationships. This requires a total rebuild of the ES index. Also
Elasticsearch 2.3.x contains a bug that causes to fail all queries that use highlight feature and Parent Child relationship at once, so we recommend to use the version 2.4 and newer. After upgrading to GitLab 8.12, you will need to remove the old index and rebuild new index:</p>
<p>To remove the old index, call to Elasticsearch:</p>
<div class=highlight><pre class="highlight plaintext"><code>curl -XDELETE 'http://localhost:9200/gitlab-production/'
</code></pre></div>
<p>Then rebuild new indexes as described in <a href="https://docs.gitlab.com/ee/integration/elasticsearch.html#add-gitlabs-data-to-the-elasticsearch-index">Elasticsearch integration</a></p>
<h3 id=ruby-update>Ruby Update</h3>
<p>In our last release blog post we mentioned we'd be dropping Ruby 2.1.x support in GitLab 8.13, we no longer plan to stop supporting Ruby 2.1.x in
the near future.</p>
<p>We still recommend you upgrade to Ruby 2.3 if you're running a source
installation, as this is the same version that ships with our Omnibus package
now.</p>
<h3 id=expanded-usage-data-ping-ee>Expanded usage data ping (EE)</h3>
<p>In order to better understand the usage of GitLab by our customers,
GitLab 8.12 EE now sends additional data along with its usage ping.</p>
<p>No information about the nature of the data, such as project names, comments or
other content is transmitted. You can view the exact data that is sent in
the admin settings, where this feature can also be disabled entirely.</p>
<blockquote>
<p><a href="https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/735">See also the implementation in the merge request</a></p>
</blockquote>
<h3 id=gitlab-workhorse-secret-key>GitLab-Workhorse Secret Key</h3>
<p>GitLab-Workhorse now uses a secret key to sign certain messages sent
to the GitLab Rails application. For now this is mostly a
configuration sanity check; in future releases we want to add features
to GitLab-Workhorse that require this secret key to establish trust.</p>
<p>If you use our Omnibus packages, or if you installed GitLab from
source with our official init.d script, then this secret key will be
generated and picked up automatically for you. If you use a custom
init.d script or if you use packages not created by GitLab Inc. then
you may have to set the <code>-secretPath</code> option on GitLab-Workhorse.</p>
<h3 id=note>Note</h3>
<p>We assume you are upgrading from the latest version. If not, then also consult the upgrade barometers of any intermediate versions you are skipping.
If you are upgrading from a GitLab version prior to 8.0 <em>and</em> you have CI enabled, you have to upgrade to GitLab 8.0 <a href="/releases/2015/09/22/gitlab-8-0-released/">first</a>.</p>
<p>Please be aware that by default the Omnibus packages will stop, run migrations,
and start again, no matter how “big” or “small” the upgrade is. This behavior
can be changed by adding a <a href="http://doc.gitlab.com/omnibus/update/README.html"><code>/etc/gitlab/skip-auto-migrations</code>
file</a>.</p>
<hr/>
<h2 id=installation>Installation</h2>
<p>If you are setting up a new GitLab installation please see the
<a href="/install/">download GitLab page</a>.</p>
<h2 id=updating>Updating</h2>
<p>Check out our <a href="/update/">update page</a>.</p>
<h2 id=enterprise-edition>Enterprise Edition</h2>
<p>The mentioned EE only features and things like LDAP group support can be found in GitLab Enterprise Edition.
For a complete overview please have a look at the <a href="/features/#enterprise">feature list of GitLab EE</a>.</p>
<p>Access to GitLab Enterprise Edition is included with a
<a href="/pricing/">subscription</a>.
No time to upgrade GitLab yourself?
A subscription also entitles you to our upgrade and installation services.</p>
<hr/>
<div class='panel panel-default twitter-block'>
<a class='twitter-block-link panel-body' href='http://twitter.com/share?text=GitLab+8.12+Released+with+Cycle+Analytics+and+Global+Code+Search+via+%40Jobvo&amp;url=https://about.gitlab.com/releases/2016/09/22/gitlab-8-12-released/&amp;hashtags=' rel=nofollow target=_blank title='Tweet!'>
<span class='twitter-text pull-left'>
GitLab 8.12 Released with Cycle Analytics and Global Code Search
via @Jobvo
</span>
<span class=click-to-tweet>
Click to tweet!
<i class='fab fa-twitter'></i>
</span>
</a>
</div>
</div>
<div class=social>
<div class='share-butons clearfix'>
<a class='share-btn share-btn-facebook' href='http://www.facebook.com/sharer.php?u=https://about.gitlab.com/releases/2016/09/22/gitlab-8-12-released/' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-facebook'></i>
<span class=sr-only>
Share on Facebook
</span>
</a>
<a class='share-btn share-btn-twitter' href='http://twitter.com/share?url=https://about.gitlab.com/releases/2016/09/22/gitlab-8-12-released/&amp;text=GitLab 8.12 Released with Cycle Analytics and Global Code Search' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-twitter'></i>
<span class=sr-only>
Share on Twitter
</span>
</a>
<a class='share-btn share-btn-linkedin' href='https://www.linkedin.com/shareArticle?mini=true&amp;url=https://about.gitlab.com/releases/2016/09/22/gitlab-8-12-released/&amp;title=GitLab 8.12 Released with Cycle Analytics and Global Code Search&amp;summary=&amp;source=' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-linkedin'></i>
<span class=sr-only>
Share on LinkedIn
</span>
</a>
<a class='share-btn share-btn-hackernews' href='https://news.ycombinator.com/submitlink?u=https://about.gitlab.com/releases/2016/09/22/gitlab-8-12-released/&amp;t=GitLab 8.12 Released with Cycle Analytics and Global Code Search' onclick='openSocialLink(this, 500, 400); return false;' target=_blank>
<i class='fab fa-hacker-news'></i>
<span class=sr-only>
Share on Hacker News
</span>
</a>
</div>
</div>
<nav aria-label='Blog post pager'>
<ul class=pager>
<li class=pull-left>
<a href="/releases/2016/09/21/gitlab-8-11-7-released/" title="GitLab 8.11.7, 8.10.10 and 8.9.10 released"><i class='fa fa-chevron-left'></i>
<span class=screen-reader-text>Previous Post:</span>
<span class=adjacent_post_title>
GitLab 8.11.7, 8.10.10 and 8.9.10 released
</span>
</a></li>
<li class=pull-right>
<a href="/releases/2016/09/23/gitlab-8-dot-12-dot-1-released/" title="GitLab 8.12.1 released"><span class=screen-reader-text>Next Post:</span>
<span class=adjacent_post_title>
GitLab 8.12.1 released
</span>
<i class='fa fa-chevron-right'></i>
</a></li>
</ul>
</nav>
</div>
<div class='wrapper signup'>
<div class="panel panel-default nl panel-newsletter-signup">
<div class=row>
<div class="col-12 newsletter">
<div class=newsletter-form style="margin: 32px 0">
<span class=newsletter-preamble>
Sign up for GitLab's monthly newsletter
</span>
<script src="//page.gitlab.com/js/forms2/js/forms2.min.js"></script>
<form id=mktoForm_1077 style="display: initial"></form>
<script>

          MktoForms2.setOptions(
          {
            formXDPath : "/rs/194-VVC-221/images/marketo-xdframe-relative.html"
          });
          MktoForms2.loadForm("//page.gitlab.com", "194-VVC-221", 1077, function(form) {
            form.onSuccess(function(values, followUpUrl) {

              dataLayer.push(
              {
                'event' : 'mktoLead', 
                'mktoFormId' : form.getId(),
                'eventCallback' : function()
                {
                  form.getFormElem().hide();
                  document.getElementById('confirmform').style.display = 'block';
                }, 'eventTimeout' : 3000
              });
              return false;
            });
            function getgacid() {
              try {
                var tracker = ga.getAll()[0];
                return tracker.get('clientId');
              } catch (e) {
                return 'n/a';
              }
            }
            form.vals({
              'gacid': getgacid()
            });
          });
        </script>
<div id=confirmform class=confirm-message style="display:none;"><p>Thanks for subscribing!</p></div>
</div>
</div>
</div>
</div>
</div>
<div class=gitlab-trial>
<div class=gitlab-trial__wrapper>
<div class=gitlab-trial__left-side>
<h2>
Take GitLab for a spin
</h2>
<p>
See what your team could do with The DevSecOps Platform.
</p>
<a href="https://gitlab.com/-/trials/new?glm_content=default-saas-trial&amp;glm_source=about.gitlab.com" class="btn cta-btn" data-ga-name="free trial" data-ga-location="try partial">Get free trial</a>
</div>
<div class=gitlab-trial__right-side>
<img src="/images/cta/gitlab-enterprise-team-member-photos.png" alt=""/>
<p>
Have a question? We're here to help.
</p>
<a class=sales-cta href='https://about.gitlab.com/sales/'>
Talk to an expert
</a>
</div>
</div>
</div>
<div style='display: none'>
<a href="https://gitlab.com/-/ide/project/gitlab-com/www-gitlab-com/edit/master/-/sites/uncategorized/source/releases/posts/2016-09-22-gitlab-8-12-released.html.md" id=hidden-web-ide>Edit this page</a>
<a href="https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/sites/uncategorized/source/releases/posts/2016-09-22-gitlab-8-12-released.html.md" id=hidden-page-source>View source</a>
</div>
<footer id=global-footer>
<slp-footer></slp-footer>
</footer>
<script src='/javascripts/be-footer.js?cacheBust=4cf1fb774d1'></script>
<script src="/javascripts/libs/jquery.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/jquery-migrate-3.3.0.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/bootstrap.min.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/libs/jqBootstrapValidation.js?cacheBust=4cf1fb774d1"></script>
<script src="/javascripts/scripts.js?cacheBust=4cf1fb774d1"></script>
<script>
  //<![CDATA[
    $.ajax({
      url: '//munchkin.marketo.net/munchkin.js',
      dataType: 'script',
      cache: true,
      success: function() {
        Munchkin.init('194-VVC-221');
      }
    });
  //]]>
</script>
<script defer=true src='/javascripts/cbextras.js'></script>
</div>
</body>
</html>
